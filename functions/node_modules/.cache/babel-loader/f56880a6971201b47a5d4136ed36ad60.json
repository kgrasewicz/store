{"ast":null,"code":"import _objectSpread from\"C:/Programowanie/store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Programowanie/store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Programowanie/store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Programowanie/store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Programowanie/store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import BottomInfo from\"../../Components/BottomInfo/BottomInfo\";import TopTooltip from\"../../Components/Shop/TopTooltip\";import{Switch,Route}from\"react-router-dom\";import ProductList from\"../../Components/Shop/ProductList\";import ProductItem from\"../../Components/Shop/ProductItem\";import Cart from\"./Cart\";import CartLogin from\"../../Components/Shop/CartLogin\";import Login from\"../../Components/Shop/Login\";import Checkout from\"../../Components/Shop/Checkout\";import Confirmation from\"../../Components/Shop/Confirmation\";import Profile from\"../../Components/Shop/Profile\";import axios from\"axios\";import $ from\"jquery\";import{BrowserRouter}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=/*#__PURE__*/function(_Component){_inherits(Shop,_Component);var _super=_createSuper(Shop);function Shop(props){var _this;_classCallCheck(this,Shop);_this=_super.call(this,props);_this.componentDidMount=function(){_this.sendGetRequest();};_this.sendGetRequest=function(){axios.get(\"/api/users/getUser\",{withCredentials:true}).then(function(response){console.log(response);if(response.data==\"\"){_this.setState({isSignedIn:false});}else{_this.setState({isSignedIn:true});$('.checkout__form__name input[name=\"fname\"]').val(response.data.fname);$('.checkout__form__surname input[name=\"lname\"]').val(response.data.lname);$('.checkout__form__email input[name=\"email\"]').val(response.data.username);$('.checkout__form__name input[name=\"fname\"]').prop(\"disabled\",true);$('.checkout__form__surname input[name=\"lname\"]').prop(\"disabled\",true);$('.checkout__form__email input[name=\"email\"]').prop(\"disabled\",true);}}).catch(function(error){console.log(error);});};_this.props=props;_this.state={id:null,isSignedIn:false};return _this;}_createClass(Shop,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"shop\",children:[/*#__PURE__*/_jsx(TopTooltip,{isSignedIn:this.state.isSignedIn,clickHandler:function clickHandler(){return document.querySelector(\".search-container__input\").value=\"\";}}),/*#__PURE__*/_jsx(BottomInfo,{}),/*#__PURE__*/_jsx(\"h4\",{className:\"search-no-results\",children:\"Unfortunately, we could not find any product matching your request.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search-loader-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"search-loader\",children:\"Loading...\"})}),this.props.children,/*#__PURE__*/_jsx(BrowserRouter,{basename:process.env.PUBLIC_URL,children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/shop/profile\",render:function render(props){return/*#__PURE__*/_jsx(Profile,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/shop/login\",render:function render(props){return/*#__PURE__*/_jsx(Login,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/shop/cart/login\",render:function render(props){return/*#__PURE__*/_jsx(CartLogin,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/shop/cart/checkout/:step\",render:function render(props){return/*#__PURE__*/_jsx(Checkout,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/shop/cart/confirmation\",render:function render(props){return/*#__PURE__*/_jsx(Confirmation,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/shop/cart\",render:function render(props){return/*#__PURE__*/_jsx(Cart,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/shop/:category/:id\",render:function render(props){return/*#__PURE__*/_jsx(ProductItem,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/shop/:category\",render:function render(props){return/*#__PURE__*/_jsx(ProductList,_objectSpread({},props));}})]})})]});}}]);return Shop;}(Component);export default Shop;","map":{"version":3,"sources":["C:/Programowanie/store/src/Containers/Shop/Shop.js"],"names":["React","Component","BottomInfo","TopTooltip","Switch","Route","ProductList","ProductItem","Cart","CartLogin","Login","Checkout","Confirmation","Profile","axios","$","BrowserRouter","Shop","props","componentDidMount","sendGetRequest","get","withCredentials","then","response","console","log","data","setState","isSignedIn","val","fname","lname","username","prop","catch","error","state","id","document","querySelector","value","children","process","env","PUBLIC_URL"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport BottomInfo from \"../../Components/BottomInfo/BottomInfo\";\r\nimport TopTooltip from \"../../Components/Shop/TopTooltip\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ProductList from \"../../Components/Shop/ProductList\";\r\nimport ProductItem from \"../../Components/Shop/ProductItem\";\r\nimport Cart from \"./Cart\";\r\nimport CartLogin from \"../../Components/Shop/CartLogin\";\r\nimport Login from \"../../Components/Shop/Login\";\r\nimport Checkout from \"../../Components/Shop/Checkout\";\r\nimport Confirmation from \"../../Components/Shop/Confirmation\";\r\nimport Profile from \"../../Components/Shop/Profile\";\r\nimport axios from \"axios\";\r\nimport $ from \"jquery\";\r\nimport {BrowserRouter} from 'react-router-dom';\r\n\r\n\r\nclass Shop extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.props = props;\r\n\r\n    this.state = {\r\n      id: null,\r\n      isSignedIn: false\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.sendGetRequest()\r\n  }\r\n\r\n  sendGetRequest = () => {\r\n    \r\n    axios\r\n      .get(\"/api/users/getUser\", { withCredentials: true })\r\n      .then((response) => {\r\n\r\n        console.log(response)\r\n        if (response.data == \"\") {\r\n          this.setState({isSignedIn: false})\r\n        } else {\r\n\r\n          this.setState({isSignedIn: true})\r\n          $('.checkout__form__name input[name=\"fname\"]').val(\r\n            response.data.fname\r\n          );\r\n          $('.checkout__form__surname input[name=\"lname\"]').val(\r\n            response.data.lname\r\n          );\r\n          $('.checkout__form__email input[name=\"email\"]').val(\r\n            response.data.username\r\n          );\r\n  \r\n          $('.checkout__form__name input[name=\"fname\"]').prop( \"disabled\", true )\r\n          $('.checkout__form__surname input[name=\"lname\"]').prop( \"disabled\", true )\r\n          $('.checkout__form__email input[name=\"email\"]').prop( \"disabled\", true )\r\n        }\r\n\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"shop\">\r\n        <TopTooltip\r\n        isSignedIn={this.state.isSignedIn}\r\n          clickHandler={() =>\r\n            (document.querySelector(\".search-container__input\").value = \"\")\r\n          }\r\n        />\r\n\r\n        <BottomInfo />\r\n\r\n        <h4 className=\"search-no-results\">\r\n          Unfortunately, we could not find any product matching your request.\r\n        </h4>\r\n\r\n        <div className=\"search-loader-container\">\r\n          <div className=\"search-loader\">Loading...</div>\r\n        </div>\r\n\r\n        {this.props.children}\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <Switch>\r\n        <Route\r\n            path=\"/shop/profile\"\r\n            render={(props) => <Profile {...props} />}\r\n          />\r\n\r\n        <Route\r\n            path=\"/shop/login\"\r\n            render={(props) => <Login {...props} />}\r\n          />\r\n\r\n          <Route\r\n            path=\"/shop/cart/login\"\r\n            render={(props) => <CartLogin {...props} />}\r\n          />\r\n          <Route\r\n            path=\"/shop/cart/checkout/:step\"\r\n            render={(props) => <Checkout {...props} />}\r\n          />\r\n\r\n          <Route\r\n            path=\"/shop/cart/confirmation\"\r\n            render={(props) => <Confirmation {...props} />}\r\n          />\r\n\r\n          <Route path=\"/shop/cart\" render={(props) => <Cart {...props} />} />\r\n\r\n          <Route\r\n            path=\"/shop/:category/:id\"\r\n            render={(props) => <ProductItem {...props} />}\r\n          />\r\n          <Route\r\n            path=\"/shop/:category\"\r\n            render={(props) => <ProductList {...props} />}\r\n          />\r\n        </Switch>\r\n        </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Shop;\r\n"]},"metadata":{},"sourceType":"module"}