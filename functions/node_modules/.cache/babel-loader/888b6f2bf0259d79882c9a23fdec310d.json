{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport omit from 'lodash/omit';\nimport pick from 'lodash/pick';\nimport isUndefined from 'lodash/isUndefined';\nimport { addMonths, compareAsc, isSameDay, isSameMonth } from '../utils/dateUtils';\nimport * as disabledDateUtils from './disabledDateUtils';\nimport { FormattedDate } from '../CustomProvider';\nimport Toolbar from '../DatePicker/Toolbar';\nimport Panel from './Panel';\nimport { getCalendarDate, getMonthHoverRange, getWeekHoverRange, setTimingMargin, toLocalValue, toZonedValue } from './utils';\nimport { createChainedFunction, DATERANGE_DISABLED_TARGET, DateUtils, mergeRefs, TimeZone, useClassNames, useControlled, useCustom } from '../utils';\nimport { PickerOverlay, pickerDefaultProps, pickerPropTypes, usePublicMethods, useToggleKeyDownEvent, PickerToggle, PickerToggleTrigger, pickTriggerPropKeys, omitTriggerPropKeys, usePickerClassName } from '../Picker';\nimport { toLocalTimeZone } from '../utils/timeZone';\nimport partial from 'lodash/partial';\nimport useUpdateEffect from '../utils/useUpdateEffect';\nimport IconCalendar from '@rsuite/icons/legacy/Calendar';\n\nvar defaultProps = _extends({}, pickerDefaultProps, {\n  as: 'div',\n  classPrefix: 'picker',\n  cleanable: true,\n  placement: 'bottomStart',\n  appearance: 'default',\n  format: 'yyyy-MM-dd',\n  limitEndYear: 1000,\n  placeholder: '',\n  showOneCalendar: false,\n  character: ' ~ '\n});\n\nvar DateRangePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _ref;\n\n  var Component = props.as,\n      classPrefix = props.classPrefix,\n      className = props.className,\n      cleanable = props.cleanable,\n      character = props.character,\n      defaultCalendarValue = props.defaultCalendarValue,\n      defaultValue = props.defaultValue,\n      disabled = props.disabled,\n      disabledDateProp = props.disabledDate,\n      formatStr = props.format,\n      hoverRange = props.hoverRange,\n      isoWeek = props.isoWeek,\n      limitEndYear = props.limitEndYear,\n      overrideLocale = props.locale,\n      menuClassName = props.menuClassName,\n      menuStyle = props.menuStyle,\n      oneTap = props.oneTap,\n      placeholder = props.placeholder,\n      placement = props.placement,\n      ranges = props.ranges,\n      renderValue = props.renderValue,\n      showOneCalendar = props.showOneCalendar,\n      showWeekNumbers = props.showWeekNumbers,\n      style = props.style,\n      timeZone = props.timeZone,\n      toggleAs = props.toggleAs,\n      valueProp = props.value,\n      onChange = props.onChange,\n      onClean = props.onClean,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onExited = props.onExited,\n      onOk = props.onOk,\n      onOpen = props.onOpen,\n      onSelect = props.onSelect,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"classPrefix\", \"className\", \"cleanable\", \"character\", \"defaultCalendarValue\", \"defaultValue\", \"disabled\", \"disabledDate\", \"format\", \"hoverRange\", \"isoWeek\", \"limitEndYear\", \"locale\", \"menuClassName\", \"menuStyle\", \"oneTap\", \"placeholder\", \"placement\", \"ranges\", \"renderValue\", \"showOneCalendar\", \"showWeekNumbers\", \"style\", \"timeZone\", \"toggleAs\", \"value\", \"onChange\", \"onClean\", \"onClose\", \"onEnter\", \"onEntered\", \"onExited\", \"onOk\", \"onOpen\", \"onSelect\"]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var _useCustom = useCustom('DateRangePicker', overrideLocale),\n      locale = _useCustom.locale,\n      formatDate = _useCustom.formatDate;\n\n  var rangeFormatStr = \"\" + formatStr + character + formatStr; // Temporary store `value` prop in a specific time zone. if `timeZone` prop not passed, use current time zone.\n\n  var zonedValue = useMemo(function () {\n    return toZonedValue(valueProp, timeZone);\n  }, [timeZone, valueProp]); // Temporary store `defaultValue` prop in a specific time zone. if `timeZone` prop not passed, use current time zone.\n\n  var zonedDefaultValue = useMemo(function () {\n    return toZonedValue(defaultValue || [], timeZone);\n  }, [defaultValue, timeZone]);\n\n  var _useControlled = useControlled(zonedValue, zonedDefaultValue),\n      value = _useControlled[0],\n      setValue = _useControlled[1];\n  /**\n   * Whether to complete the selection.\n   * Everytime selection will change this value. If the value is false, it means that the selection has not been completed.\n   *\n   * In `oneTap` mode, select action will not change this value, its value should be true always.\n   */\n\n\n  var hasDoneSelect = useRef(true);\n  /**\n   * The currently selected date range.\n   *\n   * The time range is selected by two clicks. After the first click,\n   * the cursor will store a temporary event date in the process until\n   * the second click to determine the end date of the date range.\n   *\n   */\n\n  var _useState = useState((_ref = zonedValue !== null && zonedValue !== void 0 ? zonedValue : zonedDefaultValue) !== null && _ref !== void 0 ? _ref : []),\n      selectValue = _useState[0],\n      setSelectValue = _useState[1]; // The date of the current hover, used to reduce the calculation of `handleMouseMove`\n\n\n  var _useState2 = useState([]),\n      hoverValue = _useState2[0],\n      setHoverValue = _useState2[1]; // The displayed calendar panel is rendered based on this value.\n\n\n  var _useState3 = useState(getCalendarDate({\n    value: zonedValue !== null && zonedValue !== void 0 ? zonedValue : toZonedValue(defaultCalendarValue, timeZone),\n    timeZone: timeZone\n  })),\n      calendarDate = _useState3[0],\n      setCalendarDate = _useState3[1];\n\n  var _useState4 = useState(),\n      inputState = _useState4[0],\n      setInputState = _useState4[1];\n  /**\n   * Call this function to update the calendar panel rendering benchmark value.\n   *\n   * If params `value` is not passed, it defaults to [new Date(), addMonth(new Date(), 1)].\n   */\n\n\n  var updateCalendarDate = useCallback(function (value) {\n    setCalendarDate(getCalendarDate({\n      value: value,\n      timeZone: timeZone\n    }));\n  }, [timeZone]); // if valueProp changed then update selectValue/hoverValue\n\n  useEffect(function () {\n    setSelectValue(zonedValue !== null && zonedValue !== void 0 ? zonedValue : []);\n    setHoverValue(zonedValue !== null && zonedValue !== void 0 ? zonedValue : []);\n  }, [valueProp, zonedValue]); // if selectValue changed then update calendarDate/localZonedSelectValue\n\n  useUpdateEffect(function () {\n    updateCalendarDate(selectValue);\n  }, [selectValue, updateCalendarDate]);\n\n  var _useState5 = useState(false),\n      isPickerToggleActive = _useState5[0],\n      setPickerToggleActive = _useState5[1];\n\n  var rootRef = useRef();\n  var overlayRef = useRef();\n  var targetRef = useRef();\n  var triggerRef = useRef();\n  var handleCloseDropdown = useCallback(function () {\n    var _triggerRef$current, _triggerRef$current$c;\n\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$c = _triggerRef$current.close) === null || _triggerRef$current$c === void 0 ? void 0 : _triggerRef$current$c.call(_triggerRef$current);\n  }, []);\n  usePublicMethods(ref, {\n    triggerRef: triggerRef,\n    overlayRef: overlayRef,\n    targetRef: targetRef,\n    rootRef: rootRef\n  });\n  var getDisplayString = useCallback(function (nextValue, isPlaintext) {\n    var _nextValue, _nextValue2;\n\n    if (nextValue === void 0) {\n      nextValue = value;\n    }\n\n    var startDate = (_nextValue = nextValue) === null || _nextValue === void 0 ? void 0 : _nextValue[0];\n    var endDate = (_nextValue2 = nextValue) === null || _nextValue2 === void 0 ? void 0 : _nextValue2[1];\n\n    if (startDate && endDate) {\n      var displayValue = [startDate, endDate].sort(compareAsc);\n\n      if (isPlaintext) {\n        return formatDate(displayValue[0], formatStr) + character + formatDate(displayValue[1], formatStr);\n      }\n\n      return renderValue ? renderValue(toLocalValue(displayValue, timeZone), formatStr) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[0],\n        formatStr: formatStr\n      }), character, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[1],\n        formatStr: formatStr\n      }));\n    }\n\n    return isPlaintext ? '' : placeholder || rangeFormatStr;\n  }, [character, formatDate, formatStr, placeholder, rangeFormatStr, renderValue, timeZone, value]);\n  /**\n   * preset hover range\n   */\n\n  var getHoverRange = useCallback(function (date) {\n    if (!hoverRange) {\n      return [];\n    }\n\n    var hoverRangeFunc = hoverRange;\n\n    if (hoverRange === 'week') {\n      hoverRangeFunc = partial(getWeekHoverRange, isoWeek);\n    }\n\n    if (hoverRangeFunc === 'month') {\n      hoverRangeFunc = getMonthHoverRange;\n    }\n\n    if (typeof hoverRangeFunc !== 'function') {\n      return [];\n    }\n\n    var hoverValues = toZonedValue(hoverRangeFunc(TimeZone.toLocalTimeZone(date, timeZone)), timeZone);\n    var isHoverRangeValid = hoverValues instanceof Array && hoverValues.length === 2;\n\n    if (!isHoverRangeValid) {\n      return [];\n    }\n\n    if (DateUtils.isAfter(hoverValues[0], hoverValues[1])) {\n      hoverValues.reverse();\n    }\n\n    return hoverValues;\n  }, [hoverRange, isoWeek, timeZone]);\n  var handleValueUpdate = useCallback(function (event, nextSelectValue, closeOverlay) {\n    if (closeOverlay === void 0) {\n      closeOverlay = true;\n    }\n\n    var nextValue = !isUndefined(nextSelectValue) ? nextSelectValue : selectValue;\n    setSelectValue(nextValue || []);\n\n    if (!isSameDay(nextValue[0], value[0]) || !isSameDay(nextValue[1], value[1])) {\n      setValue(nextValue);\n      onChange === null || onChange === void 0 ? void 0 : onChange(toLocalValue(nextValue, timeZone), event);\n    } // `closeOverlay` default value is `true`\n\n\n    if (closeOverlay !== false) {\n      handleCloseDropdown();\n    }\n  }, [handleCloseDropdown, onChange, selectValue, setSelectValue, setValue, timeZone, value]);\n  var handleMouseMove = useCallback(function (date) {\n    var hoverRange = getHoverRange(date);\n\n    if (!hasDoneSelect.current) {\n      setHoverValue(function (prevHoverValue) {\n        var nextHoverValue = Array.from(prevHoverValue);\n        nextHoverValue[+!hasDoneSelect.current] = date;\n        return nextHoverValue;\n      });\n    } else if (hoverRange.length) {\n      setHoverValue(hoverRange);\n    }\n  }, [getHoverRange]);\n  var handleSelectValueChange = useCallback(function (date, event) {\n    var nextSelectValue = Array.from(hoverValue);\n    var hoverRange = getHoverRange(date);\n    var noHoverRangeValid = hoverRange.length !== 2; // no preset hover range can use\n\n    if (noHoverRangeValid) {\n      // start select\n      if (hasDoneSelect.current) {\n        nextSelectValue = [date];\n      } else {\n        // finish select\n        nextSelectValue[1] = date;\n      }\n    } else {\n      // use preset hover range as select value\n      nextSelectValue = hoverRange;\n    } // in `oneTap` mode\n\n\n    if (hasDoneSelect.current && oneTap) {\n      handleValueUpdate(event, noHoverRangeValid ? [setTimingMargin(date), setTimingMargin(date, 'right')] : hoverRange);\n      return;\n    } // If user have completed the selection, then sort\n\n\n    if (nextSelectValue.length === 2 && DateUtils.isAfter(nextSelectValue[0], nextSelectValue[1])) {\n      nextSelectValue.reverse();\n    }\n\n    setHoverValue(nextSelectValue);\n    setSelectValue(nextSelectValue);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(toLocalTimeZone(date, timeZone), event);\n  }, [getHoverRange, handleValueUpdate, hoverValue, onSelect, oneTap, timeZone]);\n  /**\n   * If `selectValue` changed, there will be the following effects.\n   * 1. Check if the selection is completed.\n   * 2. if the selection is completed, set the temporary `hoverValue` empty.\n   */\n\n  useEffect(function () {\n    var _selectValue$length;\n\n    var selectValueLength = (_selectValue$length = selectValue === null || selectValue === void 0 ? void 0 : selectValue.length) !== null && _selectValue$length !== void 0 ? _selectValue$length : 0;\n    var doneSelected = selectValueLength === 0 || selectValueLength === 2;\n    hasDoneSelect.current = doneSelected;\n    doneSelected && setHoverValue([]);\n  }, [selectValue]);\n  var handleChangeCalendarDate = useCallback(function (index, date) {\n    var nextCalendarDate = Array.from(calendarDate);\n    nextCalendarDate[index] = date;\n    updateCalendarDate(nextCalendarDate);\n  }, [calendarDate, updateCalendarDate]);\n  /**\n   * Toolbar operation callback function\n   */\n\n  var handleShortcutPageDate = useCallback(function (value, closeOverlay, event) {\n    handleValueUpdate(event, value, closeOverlay);\n  }, [handleValueUpdate]);\n  var handleOK = useCallback(function (event) {\n    handleValueUpdate(event);\n    onOk === null || onOk === void 0 ? void 0 : onOk(toLocalValue(selectValue, timeZone), event);\n  }, [handleValueUpdate, onOk, selectValue, timeZone]);\n  var handleClean = useCallback(function (event) {\n    updateCalendarDate();\n    handleValueUpdate(event, []);\n  }, [handleValueUpdate, updateCalendarDate]);\n  /**\n   * Callback after the input box value is changed.\n   */\n\n  var handleInputChange = useCallback(function (value) {\n    setInputState('Typing');\n    var rangeValue = value.split(character); // isMatch('01/11/2020', 'MM/dd/yyyy') ==> true\n    // isMatch('2020-11-01', 'MM/dd/yyyy') ==> false\n\n    if (!DateUtils.isMatch(rangeValue[0], formatStr) || !DateUtils.isMatch(rangeValue[1], formatStr)) {\n      setInputState('Error');\n      return;\n    }\n\n    var startDate = new Date(rangeValue[0]);\n    var endDate = new Date(rangeValue[1]);\n    var selectValue = [startDate, endDate];\n\n    if (!DateUtils.isValid(startDate) || !DateUtils.isValid(endDate)) {\n      setInputState('Error');\n      return;\n    }\n\n    if (disabledDate(startDate, selectValue, true, DATERANGE_DISABLED_TARGET.CALENDAR)) {\n      setInputState('Error');\n      return;\n    }\n\n    setHoverValue(selectValue);\n    setSelectValue(selectValue);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [character, rangeFormatStr]);\n  /**\n   * The callback after the enter key is triggered on the input\n   */\n\n  var handleInputBlur = useCallback(function (event) {\n    if (inputState === 'Typing') {\n      handleValueUpdate(event, selectValue);\n    }\n\n    setInputState('Initial');\n  }, [handleValueUpdate, selectValue, inputState]);\n  var handleEnter = useCallback(function () {\n    var nextCalendarDate;\n\n    if (value && value.length) {\n      var _startDate = value[0],\n          endData = value[1];\n      nextCalendarDate = [_startDate, isSameMonth(_startDate, endData) ? addMonths(endData, 1) : endData];\n    } else {\n      nextCalendarDate = getCalendarDate({\n        value: toZonedValue(defaultCalendarValue, timeZone),\n        timeZone: timeZone\n      });\n    }\n\n    setSelectValue(value);\n    updateCalendarDate(nextCalendarDate);\n  }, [defaultCalendarValue, updateCalendarDate, setSelectValue, timeZone, value]);\n  var handleEntered = useCallback(function () {\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setPickerToggleActive(true);\n  }, [onOpen]);\n  var handleExited = useCallback(function () {\n    setPickerToggleActive(false);\n    hasDoneSelect.current = true;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  }, [onClose]);\n  var disabledDate = useCallback(function (date, selectDate, selectedDone, target) {\n    return disabledDateProp === null || disabledDateProp === void 0 ? void 0 : disabledDateProp(toLocalTimeZone(date, timeZone), toLocalValue(selectDate, timeZone), selectedDone, target);\n  }, [disabledDateProp, timeZone]);\n  var disabledByBetween = useCallback(function (start, end, type) {\n    var selectStartDate = selectValue[0],\n        selectEndDate = selectValue[1];\n    var nextSelectValue = [selectStartDate, selectEndDate]; // If the date is between the start and the end\n    // the button is disabled\n\n    while (DateUtils.isBefore(start, end) || DateUtils.isSameDay(start, end)) {\n      if (disabledDate(start, nextSelectValue, hasDoneSelect.current, type)) {\n        return true;\n      }\n\n      start = DateUtils.addDays(start, 1);\n    }\n\n    return false;\n  }, [disabledDate, selectValue]);\n  var disabledOkButton = useCallback(function () {\n    var start = selectValue[0],\n        end = selectValue[1];\n\n    if (!start || !end || !hasDoneSelect.current) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_BUTTON_OK);\n  }, [disabledByBetween, selectValue]);\n  var disabledShortcutButton = useCallback(function (value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    var _value = value,\n        start = _value[0],\n        end = _value[1];\n\n    if (!start || !end) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_SHORTCUT);\n  }, [disabledByBetween]);\n  var handleDisabledDate = useCallback(function (date, values, type) {\n    return !!disabledDate(date, values, hasDoneSelect.current, type);\n  }, [disabledDate]);\n  var onPickerKeyDown = useToggleKeyDownEvent(_extends({\n    triggerRef: triggerRef,\n    targetRef: targetRef,\n    active: isPickerToggleActive,\n    onExit: handleClean\n  }, rest));\n  var renderDropdownMenu = useCallback(function (positionProps, speakerRef) {\n    var left = positionProps.left,\n        top = positionProps.top,\n        className = positionProps.className;\n    var classes = merge(className, menuClassName, prefix('daterange-menu'));\n    var panelClasses = prefix('daterange-panel', {\n      'daterange-panel-show-one-calendar': showOneCalendar\n    });\n\n    var styles = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n\n    var panelProps = {\n      calendarDate: calendarDate,\n      disabledDate: handleDisabledDate,\n      format: formatStr,\n      hoverRangeValue: hoverValue,\n      isoWeek: isoWeek,\n      limitEndYear: limitEndYear,\n      locale: locale,\n      showOneCalendar: showOneCalendar,\n      showWeekNumbers: showWeekNumbers,\n      timeZone: timeZone,\n      value: selectValue,\n      onChangeCalendarDate: handleChangeCalendarDate,\n      onMouseMove: handleMouseMove,\n      onSelect: handleSelectValueChange\n    };\n    return /*#__PURE__*/React.createElement(PickerOverlay, {\n      className: classes,\n      ref: mergeRefs(overlayRef, speakerRef),\n      target: triggerRef,\n      style: styles\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: panelClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-content')\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-header')\n    }, getDisplayString(selectValue)), /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix(\"daterange-calendar-\" + (showOneCalendar ? 'single' : 'group'))\n    }, /*#__PURE__*/React.createElement(Panel, _extends({\n      index: 0\n    }, panelProps)), !showOneCalendar && /*#__PURE__*/React.createElement(Panel, _extends({\n      index: 1\n    }, panelProps)))), /*#__PURE__*/React.createElement(Toolbar, {\n      locale: locale,\n      pageDate: selectValue,\n      disabledOkBtn: disabledOkButton,\n      disabledShortcut: disabledShortcutButton,\n      hideOkBtn: oneTap,\n      onOk: handleOK,\n      onClickShortcut: handleShortcutPageDate,\n      ranges: ranges,\n      timeZone: timeZone\n    })));\n  }, [menuStyle, merge, menuClassName, prefix, showOneCalendar, calendarDate, handleDisabledDate, formatStr, hoverValue, isoWeek, limitEndYear, locale, handleChangeCalendarDate, handleMouseMove, handleSelectValueChange, showWeekNumbers, timeZone, selectValue, getDisplayString, disabledOkButton, disabledShortcutButton, oneTap, handleOK, handleShortcutPageDate, ranges]);\n  var hasValue = value && value.length > 1;\n\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n    name: 'daterange',\n    hasValue: hasValue\n  })),\n      classes = _usePickerClassName[0],\n      usedClassNamePropKeys = _usePickerClassName[1];\n\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    pickerProps: pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    placement: placement,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: createChainedFunction(handleEntered, onEntered),\n    onExited: createChainedFunction(handleExited, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    ref: rootRef,\n    className: merge(className, classes),\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys, DateUtils.calendarOnlyProps)), {\n    as: toggleAs,\n    ref: targetRef,\n    input: true,\n    inputMask: DateUtils.getDateMask(rangeFormatStr),\n    inputValue: value ? getDisplayString(value, true) : '',\n    inputPlaceholder: typeof placeholder === 'string' && placeholder ? placeholder : rangeFormatStr,\n    onInputChange: handleInputChange,\n    onInputBlur: handleInputBlur,\n    onKeyDown: onPickerKeyDown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    hasValue: hasValue,\n    active: isPickerToggleActive,\n    placement: placement,\n    caretComponent: IconCalendar,\n    disabled: disabled\n  }), getDisplayString())));\n});\nDateRangePicker.after = disabledDateUtils.after;\nDateRangePicker.afterToday = disabledDateUtils.afterToday;\nDateRangePicker.allowedDays = disabledDateUtils.allowedDays;\nDateRangePicker.allowedMaxDays = disabledDateUtils.allowedMaxDays;\nDateRangePicker.allowedRange = disabledDateUtils.allowedRange;\nDateRangePicker.before = disabledDateUtils.before;\nDateRangePicker.beforeToday = disabledDateUtils.beforeToday;\nDateRangePicker.combine = disabledDateUtils.combine;\nDateRangePicker.displayName = 'DateRangePicker';\nDateRangePicker.defaultProps = defaultProps;\nDateRangePicker.propTypes = _extends({}, pickerPropTypes, {\n  ranges: PropTypes.array,\n  value: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultCalendarValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  hoverRange: PropTypes.oneOfType([PropTypes.oneOf(['week', 'month']), PropTypes.func]),\n  format: PropTypes.string,\n  timeZone: PropTypes.string,\n  isoWeek: PropTypes.bool,\n  oneTap: PropTypes.bool,\n  limitEndYear: PropTypes.number,\n  showWeekNumbers: PropTypes.bool,\n  onChange: PropTypes.func,\n  onOk: PropTypes.func,\n  disabledDate: PropTypes.func,\n  onSelect: PropTypes.func,\n  showOneCalendar: PropTypes.bool\n});\nexport default DateRangePicker;","map":{"version":3,"sources":["C:/Programowanie/store/node_modules/rsuite/es/DateRangePicker/DateRangePicker.js"],"names":["_objectWithoutPropertiesLoose","_extends","React","useCallback","useEffect","useMemo","useRef","useState","PropTypes","omit","pick","isUndefined","addMonths","compareAsc","isSameDay","isSameMonth","disabledDateUtils","FormattedDate","Toolbar","Panel","getCalendarDate","getMonthHoverRange","getWeekHoverRange","setTimingMargin","toLocalValue","toZonedValue","createChainedFunction","DATERANGE_DISABLED_TARGET","DateUtils","mergeRefs","TimeZone","useClassNames","useControlled","useCustom","PickerOverlay","pickerDefaultProps","pickerPropTypes","usePublicMethods","useToggleKeyDownEvent","PickerToggle","PickerToggleTrigger","pickTriggerPropKeys","omitTriggerPropKeys","usePickerClassName","toLocalTimeZone","partial","useUpdateEffect","IconCalendar","defaultProps","as","classPrefix","cleanable","placement","appearance","format","limitEndYear","placeholder","showOneCalendar","character","DateRangePicker","forwardRef","props","ref","_ref","Component","className","defaultCalendarValue","defaultValue","disabled","disabledDateProp","disabledDate","formatStr","hoverRange","isoWeek","overrideLocale","locale","menuClassName","menuStyle","oneTap","ranges","renderValue","showWeekNumbers","style","timeZone","toggleAs","valueProp","value","onChange","onClean","onClose","onEnter","onEntered","onExited","onOk","onOpen","onSelect","rest","_useClassNames","merge","prefix","_useCustom","formatDate","rangeFormatStr","zonedValue","zonedDefaultValue","_useControlled","setValue","hasDoneSelect","_useState","selectValue","setSelectValue","_useState2","hoverValue","setHoverValue","_useState3","calendarDate","setCalendarDate","_useState4","inputState","setInputState","updateCalendarDate","_useState5","isPickerToggleActive","setPickerToggleActive","rootRef","overlayRef","targetRef","triggerRef","handleCloseDropdown","_triggerRef$current","_triggerRef$current$c","current","close","call","getDisplayString","nextValue","isPlaintext","_nextValue","_nextValue2","startDate","endDate","displayValue","sort","createElement","Fragment","date","getHoverRange","hoverRangeFunc","hoverValues","isHoverRangeValid","Array","length","isAfter","reverse","handleValueUpdate","event","nextSelectValue","closeOverlay","handleMouseMove","prevHoverValue","nextHoverValue","from","handleSelectValueChange","noHoverRangeValid","_selectValue$length","selectValueLength","doneSelected","handleChangeCalendarDate","index","nextCalendarDate","handleShortcutPageDate","handleOK","handleClean","handleInputChange","rangeValue","split","isMatch","Date","isValid","CALENDAR","handleInputBlur","handleEnter","_startDate","endData","handleEntered","handleExited","selectDate","selectedDone","target","disabledByBetween","start","end","type","selectStartDate","selectEndDate","isBefore","addDays","disabledOkButton","TOOLBAR_BUTTON_OK","disabledShortcutButton","_value","TOOLBAR_SHORTCUT","handleDisabledDate","values","onPickerKeyDown","active","onExit","renderDropdownMenu","positionProps","speakerRef","left","top","classes","panelClasses","styles","panelProps","hoverRangeValue","onChangeCalendarDate","onMouseMove","pageDate","disabledOkBtn","disabledShortcut","hideOkBtn","onClickShortcut","hasValue","_usePickerClassName","name","usedClassNamePropKeys","pickerProps","speaker","concat","calendarOnlyProps","input","inputMask","getDateMask","inputValue","inputPlaceholder","onInputChange","onInputBlur","onKeyDown","caretComponent","after","afterToday","allowedDays","allowedMaxDays","allowedRange","before","beforeToday","combine","displayName","propTypes","array","arrayOf","instanceOf","oneOfType","oneOf","func","string","bool","number"],"mappings":"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","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport omit from 'lodash/omit';\nimport pick from 'lodash/pick';\nimport isUndefined from 'lodash/isUndefined';\nimport { addMonths, compareAsc, isSameDay, isSameMonth } from '../utils/dateUtils';\nimport * as disabledDateUtils from './disabledDateUtils';\nimport { FormattedDate } from '../CustomProvider';\nimport Toolbar from '../DatePicker/Toolbar';\nimport Panel from './Panel';\nimport { getCalendarDate, getMonthHoverRange, getWeekHoverRange, setTimingMargin, toLocalValue, toZonedValue } from './utils';\nimport { createChainedFunction, DATERANGE_DISABLED_TARGET, DateUtils, mergeRefs, TimeZone, useClassNames, useControlled, useCustom } from '../utils';\nimport { PickerOverlay, pickerDefaultProps, pickerPropTypes, usePublicMethods, useToggleKeyDownEvent, PickerToggle, PickerToggleTrigger, pickTriggerPropKeys, omitTriggerPropKeys, usePickerClassName } from '../Picker';\nimport { toLocalTimeZone } from '../utils/timeZone';\nimport partial from 'lodash/partial';\nimport useUpdateEffect from '../utils/useUpdateEffect';\nimport IconCalendar from '@rsuite/icons/legacy/Calendar';\n\nvar defaultProps = _extends({}, pickerDefaultProps, {\n  as: 'div',\n  classPrefix: 'picker',\n  cleanable: true,\n  placement: 'bottomStart',\n  appearance: 'default',\n  format: 'yyyy-MM-dd',\n  limitEndYear: 1000,\n  placeholder: '',\n  showOneCalendar: false,\n  character: ' ~ '\n});\n\nvar DateRangePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _ref;\n\n  var Component = props.as,\n      classPrefix = props.classPrefix,\n      className = props.className,\n      cleanable = props.cleanable,\n      character = props.character,\n      defaultCalendarValue = props.defaultCalendarValue,\n      defaultValue = props.defaultValue,\n      disabled = props.disabled,\n      disabledDateProp = props.disabledDate,\n      formatStr = props.format,\n      hoverRange = props.hoverRange,\n      isoWeek = props.isoWeek,\n      limitEndYear = props.limitEndYear,\n      overrideLocale = props.locale,\n      menuClassName = props.menuClassName,\n      menuStyle = props.menuStyle,\n      oneTap = props.oneTap,\n      placeholder = props.placeholder,\n      placement = props.placement,\n      ranges = props.ranges,\n      renderValue = props.renderValue,\n      showOneCalendar = props.showOneCalendar,\n      showWeekNumbers = props.showWeekNumbers,\n      style = props.style,\n      timeZone = props.timeZone,\n      toggleAs = props.toggleAs,\n      valueProp = props.value,\n      onChange = props.onChange,\n      onClean = props.onClean,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onExited = props.onExited,\n      onOk = props.onOk,\n      onOpen = props.onOpen,\n      onSelect = props.onSelect,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"classPrefix\", \"className\", \"cleanable\", \"character\", \"defaultCalendarValue\", \"defaultValue\", \"disabled\", \"disabledDate\", \"format\", \"hoverRange\", \"isoWeek\", \"limitEndYear\", \"locale\", \"menuClassName\", \"menuStyle\", \"oneTap\", \"placeholder\", \"placement\", \"ranges\", \"renderValue\", \"showOneCalendar\", \"showWeekNumbers\", \"style\", \"timeZone\", \"toggleAs\", \"value\", \"onChange\", \"onClean\", \"onClose\", \"onEnter\", \"onEntered\", \"onExited\", \"onOk\", \"onOpen\", \"onSelect\"]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var _useCustom = useCustom('DateRangePicker', overrideLocale),\n      locale = _useCustom.locale,\n      formatDate = _useCustom.formatDate;\n\n  var rangeFormatStr = \"\" + formatStr + character + formatStr; // Temporary store `value` prop in a specific time zone. if `timeZone` prop not passed, use current time zone.\n\n  var zonedValue = useMemo(function () {\n    return toZonedValue(valueProp, timeZone);\n  }, [timeZone, valueProp]); // Temporary store `defaultValue` prop in a specific time zone. if `timeZone` prop not passed, use current time zone.\n\n  var zonedDefaultValue = useMemo(function () {\n    return toZonedValue(defaultValue || [], timeZone);\n  }, [defaultValue, timeZone]);\n\n  var _useControlled = useControlled(zonedValue, zonedDefaultValue),\n      value = _useControlled[0],\n      setValue = _useControlled[1];\n  /**\n   * Whether to complete the selection.\n   * Everytime selection will change this value. If the value is false, it means that the selection has not been completed.\n   *\n   * In `oneTap` mode, select action will not change this value, its value should be true always.\n   */\n\n\n  var hasDoneSelect = useRef(true);\n  /**\n   * The currently selected date range.\n   *\n   * The time range is selected by two clicks. After the first click,\n   * the cursor will store a temporary event date in the process until\n   * the second click to determine the end date of the date range.\n   *\n   */\n\n  var _useState = useState((_ref = zonedValue !== null && zonedValue !== void 0 ? zonedValue : zonedDefaultValue) !== null && _ref !== void 0 ? _ref : []),\n      selectValue = _useState[0],\n      setSelectValue = _useState[1]; // The date of the current hover, used to reduce the calculation of `handleMouseMove`\n\n\n  var _useState2 = useState([]),\n      hoverValue = _useState2[0],\n      setHoverValue = _useState2[1]; // The displayed calendar panel is rendered based on this value.\n\n\n  var _useState3 = useState(getCalendarDate({\n    value: zonedValue !== null && zonedValue !== void 0 ? zonedValue : toZonedValue(defaultCalendarValue, timeZone),\n    timeZone: timeZone\n  })),\n      calendarDate = _useState3[0],\n      setCalendarDate = _useState3[1];\n\n  var _useState4 = useState(),\n      inputState = _useState4[0],\n      setInputState = _useState4[1];\n  /**\n   * Call this function to update the calendar panel rendering benchmark value.\n   *\n   * If params `value` is not passed, it defaults to [new Date(), addMonth(new Date(), 1)].\n   */\n\n\n  var updateCalendarDate = useCallback(function (value) {\n    setCalendarDate(getCalendarDate({\n      value: value,\n      timeZone: timeZone\n    }));\n  }, [timeZone]); // if valueProp changed then update selectValue/hoverValue\n\n  useEffect(function () {\n    setSelectValue(zonedValue !== null && zonedValue !== void 0 ? zonedValue : []);\n    setHoverValue(zonedValue !== null && zonedValue !== void 0 ? zonedValue : []);\n  }, [valueProp, zonedValue]); // if selectValue changed then update calendarDate/localZonedSelectValue\n\n  useUpdateEffect(function () {\n    updateCalendarDate(selectValue);\n  }, [selectValue, updateCalendarDate]);\n\n  var _useState5 = useState(false),\n      isPickerToggleActive = _useState5[0],\n      setPickerToggleActive = _useState5[1];\n\n  var rootRef = useRef();\n  var overlayRef = useRef();\n  var targetRef = useRef();\n  var triggerRef = useRef();\n  var handleCloseDropdown = useCallback(function () {\n    var _triggerRef$current, _triggerRef$current$c;\n\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$c = _triggerRef$current.close) === null || _triggerRef$current$c === void 0 ? void 0 : _triggerRef$current$c.call(_triggerRef$current);\n  }, []);\n  usePublicMethods(ref, {\n    triggerRef: triggerRef,\n    overlayRef: overlayRef,\n    targetRef: targetRef,\n    rootRef: rootRef\n  });\n  var getDisplayString = useCallback(function (nextValue, isPlaintext) {\n    var _nextValue, _nextValue2;\n\n    if (nextValue === void 0) {\n      nextValue = value;\n    }\n\n    var startDate = (_nextValue = nextValue) === null || _nextValue === void 0 ? void 0 : _nextValue[0];\n    var endDate = (_nextValue2 = nextValue) === null || _nextValue2 === void 0 ? void 0 : _nextValue2[1];\n\n    if (startDate && endDate) {\n      var displayValue = [startDate, endDate].sort(compareAsc);\n\n      if (isPlaintext) {\n        return formatDate(displayValue[0], formatStr) + character + formatDate(displayValue[1], formatStr);\n      }\n\n      return renderValue ? renderValue(toLocalValue(displayValue, timeZone), formatStr) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[0],\n        formatStr: formatStr\n      }), character, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[1],\n        formatStr: formatStr\n      }));\n    }\n\n    return isPlaintext ? '' : placeholder || rangeFormatStr;\n  }, [character, formatDate, formatStr, placeholder, rangeFormatStr, renderValue, timeZone, value]);\n  /**\n   * preset hover range\n   */\n\n  var getHoverRange = useCallback(function (date) {\n    if (!hoverRange) {\n      return [];\n    }\n\n    var hoverRangeFunc = hoverRange;\n\n    if (hoverRange === 'week') {\n      hoverRangeFunc = partial(getWeekHoverRange, isoWeek);\n    }\n\n    if (hoverRangeFunc === 'month') {\n      hoverRangeFunc = getMonthHoverRange;\n    }\n\n    if (typeof hoverRangeFunc !== 'function') {\n      return [];\n    }\n\n    var hoverValues = toZonedValue(hoverRangeFunc(TimeZone.toLocalTimeZone(date, timeZone)), timeZone);\n    var isHoverRangeValid = hoverValues instanceof Array && hoverValues.length === 2;\n\n    if (!isHoverRangeValid) {\n      return [];\n    }\n\n    if (DateUtils.isAfter(hoverValues[0], hoverValues[1])) {\n      hoverValues.reverse();\n    }\n\n    return hoverValues;\n  }, [hoverRange, isoWeek, timeZone]);\n  var handleValueUpdate = useCallback(function (event, nextSelectValue, closeOverlay) {\n    if (closeOverlay === void 0) {\n      closeOverlay = true;\n    }\n\n    var nextValue = !isUndefined(nextSelectValue) ? nextSelectValue : selectValue;\n    setSelectValue(nextValue || []);\n\n    if (!isSameDay(nextValue[0], value[0]) || !isSameDay(nextValue[1], value[1])) {\n      setValue(nextValue);\n      onChange === null || onChange === void 0 ? void 0 : onChange(toLocalValue(nextValue, timeZone), event);\n    } // `closeOverlay` default value is `true`\n\n\n    if (closeOverlay !== false) {\n      handleCloseDropdown();\n    }\n  }, [handleCloseDropdown, onChange, selectValue, setSelectValue, setValue, timeZone, value]);\n  var handleMouseMove = useCallback(function (date) {\n    var hoverRange = getHoverRange(date);\n\n    if (!hasDoneSelect.current) {\n      setHoverValue(function (prevHoverValue) {\n        var nextHoverValue = Array.from(prevHoverValue);\n        nextHoverValue[+!hasDoneSelect.current] = date;\n        return nextHoverValue;\n      });\n    } else if (hoverRange.length) {\n      setHoverValue(hoverRange);\n    }\n  }, [getHoverRange]);\n  var handleSelectValueChange = useCallback(function (date, event) {\n    var nextSelectValue = Array.from(hoverValue);\n    var hoverRange = getHoverRange(date);\n    var noHoverRangeValid = hoverRange.length !== 2; // no preset hover range can use\n\n    if (noHoverRangeValid) {\n      // start select\n      if (hasDoneSelect.current) {\n        nextSelectValue = [date];\n      } else {\n        // finish select\n        nextSelectValue[1] = date;\n      }\n    } else {\n      // use preset hover range as select value\n      nextSelectValue = hoverRange;\n    } // in `oneTap` mode\n\n\n    if (hasDoneSelect.current && oneTap) {\n      handleValueUpdate(event, noHoverRangeValid ? [setTimingMargin(date), setTimingMargin(date, 'right')] : hoverRange);\n      return;\n    } // If user have completed the selection, then sort\n\n\n    if (nextSelectValue.length === 2 && DateUtils.isAfter(nextSelectValue[0], nextSelectValue[1])) {\n      nextSelectValue.reverse();\n    }\n\n    setHoverValue(nextSelectValue);\n    setSelectValue(nextSelectValue);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(toLocalTimeZone(date, timeZone), event);\n  }, [getHoverRange, handleValueUpdate, hoverValue, onSelect, oneTap, timeZone]);\n  /**\n   * If `selectValue` changed, there will be the following effects.\n   * 1. Check if the selection is completed.\n   * 2. if the selection is completed, set the temporary `hoverValue` empty.\n   */\n\n  useEffect(function () {\n    var _selectValue$length;\n\n    var selectValueLength = (_selectValue$length = selectValue === null || selectValue === void 0 ? void 0 : selectValue.length) !== null && _selectValue$length !== void 0 ? _selectValue$length : 0;\n    var doneSelected = selectValueLength === 0 || selectValueLength === 2;\n    hasDoneSelect.current = doneSelected;\n    doneSelected && setHoverValue([]);\n  }, [selectValue]);\n  var handleChangeCalendarDate = useCallback(function (index, date) {\n    var nextCalendarDate = Array.from(calendarDate);\n    nextCalendarDate[index] = date;\n    updateCalendarDate(nextCalendarDate);\n  }, [calendarDate, updateCalendarDate]);\n  /**\n   * Toolbar operation callback function\n   */\n\n  var handleShortcutPageDate = useCallback(function (value, closeOverlay, event) {\n    handleValueUpdate(event, value, closeOverlay);\n  }, [handleValueUpdate]);\n  var handleOK = useCallback(function (event) {\n    handleValueUpdate(event);\n    onOk === null || onOk === void 0 ? void 0 : onOk(toLocalValue(selectValue, timeZone), event);\n  }, [handleValueUpdate, onOk, selectValue, timeZone]);\n  var handleClean = useCallback(function (event) {\n    updateCalendarDate();\n    handleValueUpdate(event, []);\n  }, [handleValueUpdate, updateCalendarDate]);\n  /**\n   * Callback after the input box value is changed.\n   */\n\n  var handleInputChange = useCallback(function (value) {\n    setInputState('Typing');\n    var rangeValue = value.split(character); // isMatch('01/11/2020', 'MM/dd/yyyy') ==> true\n    // isMatch('2020-11-01', 'MM/dd/yyyy') ==> false\n\n    if (!DateUtils.isMatch(rangeValue[0], formatStr) || !DateUtils.isMatch(rangeValue[1], formatStr)) {\n      setInputState('Error');\n      return;\n    }\n\n    var startDate = new Date(rangeValue[0]);\n    var endDate = new Date(rangeValue[1]);\n    var selectValue = [startDate, endDate];\n\n    if (!DateUtils.isValid(startDate) || !DateUtils.isValid(endDate)) {\n      setInputState('Error');\n      return;\n    }\n\n    if (disabledDate(startDate, selectValue, true, DATERANGE_DISABLED_TARGET.CALENDAR)) {\n      setInputState('Error');\n      return;\n    }\n\n    setHoverValue(selectValue);\n    setSelectValue(selectValue);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [character, rangeFormatStr]);\n  /**\n   * The callback after the enter key is triggered on the input\n   */\n\n  var handleInputBlur = useCallback(function (event) {\n    if (inputState === 'Typing') {\n      handleValueUpdate(event, selectValue);\n    }\n\n    setInputState('Initial');\n  }, [handleValueUpdate, selectValue, inputState]);\n  var handleEnter = useCallback(function () {\n    var nextCalendarDate;\n\n    if (value && value.length) {\n      var _startDate = value[0],\n          endData = value[1];\n      nextCalendarDate = [_startDate, isSameMonth(_startDate, endData) ? addMonths(endData, 1) : endData];\n    } else {\n      nextCalendarDate = getCalendarDate({\n        value: toZonedValue(defaultCalendarValue, timeZone),\n        timeZone: timeZone\n      });\n    }\n\n    setSelectValue(value);\n    updateCalendarDate(nextCalendarDate);\n  }, [defaultCalendarValue, updateCalendarDate, setSelectValue, timeZone, value]);\n  var handleEntered = useCallback(function () {\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setPickerToggleActive(true);\n  }, [onOpen]);\n  var handleExited = useCallback(function () {\n    setPickerToggleActive(false);\n    hasDoneSelect.current = true;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  }, [onClose]);\n  var disabledDate = useCallback(function (date, selectDate, selectedDone, target) {\n    return disabledDateProp === null || disabledDateProp === void 0 ? void 0 : disabledDateProp(toLocalTimeZone(date, timeZone), toLocalValue(selectDate, timeZone), selectedDone, target);\n  }, [disabledDateProp, timeZone]);\n  var disabledByBetween = useCallback(function (start, end, type) {\n    var selectStartDate = selectValue[0],\n        selectEndDate = selectValue[1];\n    var nextSelectValue = [selectStartDate, selectEndDate]; // If the date is between the start and the end\n    // the button is disabled\n\n    while (DateUtils.isBefore(start, end) || DateUtils.isSameDay(start, end)) {\n      if (disabledDate(start, nextSelectValue, hasDoneSelect.current, type)) {\n        return true;\n      }\n\n      start = DateUtils.addDays(start, 1);\n    }\n\n    return false;\n  }, [disabledDate, selectValue]);\n  var disabledOkButton = useCallback(function () {\n    var start = selectValue[0],\n        end = selectValue[1];\n\n    if (!start || !end || !hasDoneSelect.current) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_BUTTON_OK);\n  }, [disabledByBetween, selectValue]);\n  var disabledShortcutButton = useCallback(function (value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    var _value = value,\n        start = _value[0],\n        end = _value[1];\n\n    if (!start || !end) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_SHORTCUT);\n  }, [disabledByBetween]);\n  var handleDisabledDate = useCallback(function (date, values, type) {\n    return !!disabledDate(date, values, hasDoneSelect.current, type);\n  }, [disabledDate]);\n  var onPickerKeyDown = useToggleKeyDownEvent(_extends({\n    triggerRef: triggerRef,\n    targetRef: targetRef,\n    active: isPickerToggleActive,\n    onExit: handleClean\n  }, rest));\n  var renderDropdownMenu = useCallback(function (positionProps, speakerRef) {\n    var left = positionProps.left,\n        top = positionProps.top,\n        className = positionProps.className;\n    var classes = merge(className, menuClassName, prefix('daterange-menu'));\n    var panelClasses = prefix('daterange-panel', {\n      'daterange-panel-show-one-calendar': showOneCalendar\n    });\n\n    var styles = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n\n    var panelProps = {\n      calendarDate: calendarDate,\n      disabledDate: handleDisabledDate,\n      format: formatStr,\n      hoverRangeValue: hoverValue,\n      isoWeek: isoWeek,\n      limitEndYear: limitEndYear,\n      locale: locale,\n      showOneCalendar: showOneCalendar,\n      showWeekNumbers: showWeekNumbers,\n      timeZone: timeZone,\n      value: selectValue,\n      onChangeCalendarDate: handleChangeCalendarDate,\n      onMouseMove: handleMouseMove,\n      onSelect: handleSelectValueChange\n    };\n    return /*#__PURE__*/React.createElement(PickerOverlay, {\n      className: classes,\n      ref: mergeRefs(overlayRef, speakerRef),\n      target: triggerRef,\n      style: styles\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: panelClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-content')\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-header')\n    }, getDisplayString(selectValue)), /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix(\"daterange-calendar-\" + (showOneCalendar ? 'single' : 'group'))\n    }, /*#__PURE__*/React.createElement(Panel, _extends({\n      index: 0\n    }, panelProps)), !showOneCalendar && /*#__PURE__*/React.createElement(Panel, _extends({\n      index: 1\n    }, panelProps)))), /*#__PURE__*/React.createElement(Toolbar, {\n      locale: locale,\n      pageDate: selectValue,\n      disabledOkBtn: disabledOkButton,\n      disabledShortcut: disabledShortcutButton,\n      hideOkBtn: oneTap,\n      onOk: handleOK,\n      onClickShortcut: handleShortcutPageDate,\n      ranges: ranges,\n      timeZone: timeZone\n    })));\n  }, [menuStyle, merge, menuClassName, prefix, showOneCalendar, calendarDate, handleDisabledDate, formatStr, hoverValue, isoWeek, limitEndYear, locale, handleChangeCalendarDate, handleMouseMove, handleSelectValueChange, showWeekNumbers, timeZone, selectValue, getDisplayString, disabledOkButton, disabledShortcutButton, oneTap, handleOK, handleShortcutPageDate, ranges]);\n  var hasValue = value && value.length > 1;\n\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n    name: 'daterange',\n    hasValue: hasValue\n  })),\n      classes = _usePickerClassName[0],\n      usedClassNamePropKeys = _usePickerClassName[1];\n\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    pickerProps: pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    placement: placement,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: createChainedFunction(handleEntered, onEntered),\n    onExited: createChainedFunction(handleExited, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    ref: rootRef,\n    className: merge(className, classes),\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys, DateUtils.calendarOnlyProps)), {\n    as: toggleAs,\n    ref: targetRef,\n    input: true,\n    inputMask: DateUtils.getDateMask(rangeFormatStr),\n    inputValue: value ? getDisplayString(value, true) : '',\n    inputPlaceholder: typeof placeholder === 'string' && placeholder ? placeholder : rangeFormatStr,\n    onInputChange: handleInputChange,\n    onInputBlur: handleInputBlur,\n    onKeyDown: onPickerKeyDown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    hasValue: hasValue,\n    active: isPickerToggleActive,\n    placement: placement,\n    caretComponent: IconCalendar,\n    disabled: disabled\n  }), getDisplayString())));\n});\nDateRangePicker.after = disabledDateUtils.after;\nDateRangePicker.afterToday = disabledDateUtils.afterToday;\nDateRangePicker.allowedDays = disabledDateUtils.allowedDays;\nDateRangePicker.allowedMaxDays = disabledDateUtils.allowedMaxDays;\nDateRangePicker.allowedRange = disabledDateUtils.allowedRange;\nDateRangePicker.before = disabledDateUtils.before;\nDateRangePicker.beforeToday = disabledDateUtils.beforeToday;\nDateRangePicker.combine = disabledDateUtils.combine;\nDateRangePicker.displayName = 'DateRangePicker';\nDateRangePicker.defaultProps = defaultProps;\nDateRangePicker.propTypes = _extends({}, pickerPropTypes, {\n  ranges: PropTypes.array,\n  value: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultCalendarValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  hoverRange: PropTypes.oneOfType([PropTypes.oneOf(['week', 'month']), PropTypes.func]),\n  format: PropTypes.string,\n  timeZone: PropTypes.string,\n  isoWeek: PropTypes.bool,\n  oneTap: PropTypes.bool,\n  limitEndYear: PropTypes.number,\n  showWeekNumbers: PropTypes.bool,\n  onChange: PropTypes.func,\n  onOk: PropTypes.func,\n  disabledDate: PropTypes.func,\n  onSelect: PropTypes.func,\n  showOneCalendar: PropTypes.bool\n});\nexport default DateRangePicker;"]},"metadata":{},"sourceType":"module"}