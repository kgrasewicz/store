{"ast":null,"code":"import { useState, useRef, useCallback, useEffect } from 'react';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport helper from '../DOMHelper';\nexport var useBodyStyles = function useBodyStyles(ref, options) {\n  var _useState = useState({}),\n      bodyStyles = _useState[0],\n      setBodyStyles = _useState[1];\n\n  var overflow = options.overflow,\n      drawer = options.drawer,\n      prefix = options.prefix;\n  var windowResizeListener = useRef();\n  var contentElement = useRef();\n  var updateBodyStyles = useCallback(function (_event, entering) {\n    var dialog = ref.current;\n    var scrollHeight = dialog ? dialog.scrollHeight : 0;\n    var styles = {\n      overflow: 'auto'\n    };\n\n    if (dialog) {\n      // default margin\n      var headerHeight = 46;\n      var footerHeight = 46;\n      var contentHeight = 30;\n      var headerDOM = dialog.querySelector(\".\" + prefix('header'));\n      var footerDOM = dialog.querySelector(\".\" + prefix('footer'));\n      var contentDOM = dialog.querySelector(\".\" + prefix('content'));\n      headerHeight = headerDOM ? helper.getHeight(headerDOM) + headerHeight : headerHeight;\n      footerHeight = footerDOM ? helper.getHeight(footerDOM) + headerHeight : headerHeight;\n      contentHeight = contentDOM ? helper.getHeight(contentDOM) + contentHeight : contentHeight;\n\n      if (drawer) {\n        styles.height = contentHeight - (headerHeight + footerHeight);\n      } else {\n        /**\n         * Header height + Footer height + Dialog margin\n         */\n        var excludeHeight = headerHeight + footerHeight + (entering ? 76 : 60);\n        var bodyHeight = helper.getHeight(window) - excludeHeight;\n        var maxHeight = scrollHeight >= bodyHeight ? bodyHeight : scrollHeight;\n        styles.maxHeight = maxHeight;\n      }\n    }\n\n    setBodyStyles(styles);\n  }, [drawer, prefix, ref]);\n  var onDestroyEvents = useCallback(function () {\n    var _windowResizeListener, _windowResizeListener2;\n\n    (_windowResizeListener = windowResizeListener.current) === null || _windowResizeListener === void 0 ? void 0 : (_windowResizeListener2 = _windowResizeListener.off) === null || _windowResizeListener2 === void 0 ? void 0 : _windowResizeListener2.call(_windowResizeListener);\n\n    if (contentElement.current) {\n      unbindElementResize(contentElement.current);\n    }\n  }, []);\n  var onChangeBodyStyles = useCallback(function (entering) {\n    if (overflow) {\n      var _ref$current;\n\n      updateBodyStyles(null, entering);\n      contentElement.current = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.querySelector(\".\" + prefix('content'));\n      windowResizeListener.current = helper.on(window, 'resize', updateBodyStyles);\n      bindElementResize(contentElement.current, updateBodyStyles);\n    }\n  }, [overflow, prefix, ref, updateBodyStyles]);\n  useEffect(function () {\n    onDestroyEvents();\n  }, [onDestroyEvents]);\n  return [overflow ? bodyStyles : {}, onChangeBodyStyles, onDestroyEvents];\n};","map":{"version":3,"sources":["C:/Programowanie/store/node_modules/rsuite/es/Modal/utils.js"],"names":["useState","useRef","useCallback","useEffect","bindElementResize","unbind","unbindElementResize","helper","useBodyStyles","ref","options","_useState","bodyStyles","setBodyStyles","overflow","drawer","prefix","windowResizeListener","contentElement","updateBodyStyles","_event","entering","dialog","current","scrollHeight","styles","headerHeight","footerHeight","contentHeight","headerDOM","querySelector","footerDOM","contentDOM","getHeight","height","excludeHeight","bodyHeight","window","maxHeight","onDestroyEvents","_windowResizeListener","_windowResizeListener2","off","call","onChangeBodyStyles","_ref$current","on"],"mappings":"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","sourcesContent":["import { useState, useRef, useCallback, useEffect } from 'react';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport helper from '../DOMHelper';\nexport var useBodyStyles = function useBodyStyles(ref, options) {\n  var _useState = useState({}),\n      bodyStyles = _useState[0],\n      setBodyStyles = _useState[1];\n\n  var overflow = options.overflow,\n      drawer = options.drawer,\n      prefix = options.prefix;\n  var windowResizeListener = useRef();\n  var contentElement = useRef();\n  var updateBodyStyles = useCallback(function (_event, entering) {\n    var dialog = ref.current;\n    var scrollHeight = dialog ? dialog.scrollHeight : 0;\n    var styles = {\n      overflow: 'auto'\n    };\n\n    if (dialog) {\n      // default margin\n      var headerHeight = 46;\n      var footerHeight = 46;\n      var contentHeight = 30;\n      var headerDOM = dialog.querySelector(\".\" + prefix('header'));\n      var footerDOM = dialog.querySelector(\".\" + prefix('footer'));\n      var contentDOM = dialog.querySelector(\".\" + prefix('content'));\n      headerHeight = headerDOM ? helper.getHeight(headerDOM) + headerHeight : headerHeight;\n      footerHeight = footerDOM ? helper.getHeight(footerDOM) + headerHeight : headerHeight;\n      contentHeight = contentDOM ? helper.getHeight(contentDOM) + contentHeight : contentHeight;\n\n      if (drawer) {\n        styles.height = contentHeight - (headerHeight + footerHeight);\n      } else {\n        /**\n         * Header height + Footer height + Dialog margin\n         */\n        var excludeHeight = headerHeight + footerHeight + (entering ? 76 : 60);\n        var bodyHeight = helper.getHeight(window) - excludeHeight;\n        var maxHeight = scrollHeight >= bodyHeight ? bodyHeight : scrollHeight;\n        styles.maxHeight = maxHeight;\n      }\n    }\n\n    setBodyStyles(styles);\n  }, [drawer, prefix, ref]);\n  var onDestroyEvents = useCallback(function () {\n    var _windowResizeListener, _windowResizeListener2;\n\n    (_windowResizeListener = windowResizeListener.current) === null || _windowResizeListener === void 0 ? void 0 : (_windowResizeListener2 = _windowResizeListener.off) === null || _windowResizeListener2 === void 0 ? void 0 : _windowResizeListener2.call(_windowResizeListener);\n\n    if (contentElement.current) {\n      unbindElementResize(contentElement.current);\n    }\n  }, []);\n  var onChangeBodyStyles = useCallback(function (entering) {\n    if (overflow) {\n      var _ref$current;\n\n      updateBodyStyles(null, entering);\n      contentElement.current = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.querySelector(\".\" + prefix('content'));\n      windowResizeListener.current = helper.on(window, 'resize', updateBodyStyles);\n      bindElementResize(contentElement.current, updateBodyStyles);\n    }\n  }, [overflow, prefix, ref, updateBodyStyles]);\n  useEffect(function () {\n    onDestroyEvents();\n  }, [onDestroyEvents]);\n  return [overflow ? bodyStyles : {}, onChangeBodyStyles, onDestroyEvents];\n};"]},"metadata":{},"sourceType":"module"}