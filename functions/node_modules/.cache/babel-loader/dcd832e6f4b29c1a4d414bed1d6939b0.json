{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programowanie\\\\store\\\\src\\\\Containers\\\\Shop\\\\Cart.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { NavLink } from \"react-router-dom\";\nimport FetchProductImg from \"../../Components/Shop/FetchProductImg\";\nimport $ from \"jquery\";\nimport Promocode from \"../../Components/Shop/Promocode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.componentDidMount = () => {\n      this._isMounted = true;\n      this.fetchData();\n    };\n\n    this.componentDidUpdate = (prevProps, prevState) => {\n      if (prevState.cart !== this.state.cart) {\n        console.log(prevState.cart);\n        console.log(this.state.cart);\n        this._isMounted = true;\n        this.fetchData();\n        this._isMounted = false;\n      }\n    };\n\n    this.fetchData = () => {\n      axios.get(\"/api/cart\").then(response => {\n        if (this._isMounted) {\n          this.setState({\n            cart: response.data\n          });\n          $('.items-counter').text(response.data.itemsTotal);\n          console.log(response);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.emptyCart = () => {\n      this._isMounted = true;\n      axios.delete(\"/api/cart/empty-cart\").then(response => {\n        if (response.data != null && response.data < 1) {\n          response.data = response.data;\n        } else {\n          response.data = false;\n        }\n\n        this.setState({\n          cart: response.data\n        });\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n      console.log(\"empty clicked\");\n    };\n\n    this.alterItemQuantity = (productId, size, quantity) => {\n      this._isMounted = true;\n      axios.post(\"/api/cart\", {\n        productId: productId,\n        size: size,\n        quantity: quantity\n      }).then(response => {\n        console.log(response);\n        this.fetchData();\n      }, error => {\n        console.log(error);\n      });\n    };\n\n    this.handleQuantityChange = (productId, size, quantity, currentQuantity) => {\n      const alteredQuantity = currentQuantity === 1 && quantity === -1 ? 0 : quantity;\n      this.alterItemQuantity(productId, size, alteredQuantity);\n    };\n\n    this.state = {\n      cart: []\n    };\n    this.props = props;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const CartMapping = () => {\n      let cart = {};\n\n      if (this.state.cart != null && this.state.cart.length < 1) {\n        this.state.cart = false;\n      }\n\n      if (this.state.cart) {\n        cart = this.state.cart.items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"cart-container__table__products__item\",\n          children: [/*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/shop/\" + item.category + \"/\" + item.productId,\n            children: [/*#__PURE__*/_jsxDEV(FetchProductImg, {\n              className: item.model,\n              link: item.model\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-container__table__products__item__info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"cart__name\",\n                children: item.productName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"cart__model\",\n                children: [\"Model: \", item.model]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"cart__size\",\n                children: [\"Size: \", item.size]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart__quantityHandler\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cart__quantityHandler__add\",\n              onClick: () => this.handleQuantityChange(item.productId, item.size, 1, item.quantity),\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 148\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              type: \"text\",\n              className: \"cart__qty\",\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cart__quantityHandler__deduct\",\n              onClick: () => this.handleQuantityChange(item.productId, item.size, -1, item.quantity),\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 150\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"cart__total\",\n            children: [item.price, \" PLN\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cart__exit\",\n            onClick: () => this.alterItemQuantity(item.productId, item.size, 0),\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u2A09\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-container__table__products__item__line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, item.productId + item.size, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this));\n      } else {\n        cart = /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"cart-container__table__products__item__line__empty\",\n          children: \"The cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 16\n        }, this);\n      }\n\n      return cart;\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-container__tooltip\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-container__tooltip__icons\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"active\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              version: \"1.1\",\n              className: \"cart__icon\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              x: \"0px\",\n              y: \"0px\",\n              viewBox: \"0 0 512 512\",\n              enableBackground: \"new 0 0 512 512;\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M151.1,332.1L151.1,332.1C151.1,332.1,151.2,332.1,151.1,332.1l249.2,0c6.1,0,11.5-4.1,13.2-10l55-192.4\\r c1.2-4.1,0.4-8.6-2.2-12c-2.6-3.4-6.7-5.5-11-5.5H119.4L109.6,68c-1.4-6.3-7-10.8-13.4-10.8H13.7C6.2,57.3,0,63.4,0,71\\r s6.2,13.7,13.7,13.7h71.4c1.7,7.8,47,211.5,49.6,223.2c-14.6,6.3-24.8,20.9-24.8,37.8c0,22.7,18.5,41.2,41.2,41.2h249.2\\r c7.6,0,13.7-6.2,13.7-13.7c0-7.6-6.2-13.7-13.7-13.7H151.1c-7.6,0-13.7-6.2-13.7-13.7C137.4,338.2,143.5,332.1,151.1,332.1z\\r M437,139.7l-47.1,164.9H162.2l-36.6-164.9H437z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M137.4,428.2c0,22.7,18.5,41.2,41.2,41.2s41.2-18.5,41.2-41.2S201.4,387,178.6,387S137.4,405.5,137.4,428.2z M178.6,414.5\\r c7.6,0,13.7,6.2,13.7,13.7c0,7.6-6.2,13.7-13.7,13.7c-7.6,0-13.7-6.2-13.7-13.7C164.9,420.7,171,414.5,178.6,414.5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M331.6,428.2c0,22.7,18.5,41.2,41.2,41.2c22.7,0,41.2-18.5,41.2-41.2S395.5,387,372.8,387\\r C350.1,387,331.6,405.5,331.6,428.2z M372.8,414.5c7.6,0,13.7,6.2,13.7,13.7c0,7.6-6.2,13.7-13.7,13.7c-7.6,0-13.7-6.2-13.7-13.7\\r C359.1,420.7,365.2,414.5,372.8,414.5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              version: \"1.1\",\n              className: \"cart__icon\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              x: \"0px\",\n              y: \"0px\",\n              viewBox: \"0 0 512 512\",\n              enableBackground: \"new 0 0 512 512;\",\n              children: [/*#__PURE__*/_jsxDEV(\"g\", {\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M256,4.3c-97.6,0-177,79.4-177,177c0,33,9.1,65.2,26.4,93.1l140.5,226.4c2.7,4.3,7.4,7,12.5,7c0,0,0.1,0,0.1,0\\r c5.1,0,9.9-2.8,12.5-7.2L408,271.9c16.3-27.3,25-58.7,25-90.7C433,83.7,353.6,4.3,256,4.3z M382.7,256.8L258.2,464.6L130.5,258.8\\r c-14.4-23.2-22.2-50-22.2-77.5c0-81.3,66.4-147.7,147.7-147.7s147.6,66.4,147.6,147.7C403.6,207.9,396.3,234.1,382.7,256.8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M256,92.8c-48.8,0-88.5,39.7-88.5,88.5c0,48.5,39.1,88.5,88.5,88.5c50.1,0,88.5-40.5,88.5-88.5\\r C344.5,132.5,304.8,92.8,256,92.8z M256,240.5c-32.7,0-59.2-26.6-59.2-59.2c0-32.5,26.7-59.2,59.2-59.2s59.1,26.7,59.1,59.2\\r C315.1,213.4,289.2,240.5,256,240.5z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              version: \"1.1\",\n              className: \"cart__icon\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              x: \"0px\",\n              y: \"0px\",\n              viewBox: \"0 0 512 512\",\n              enableBackground: \"new 0 0 512 512;\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M507.8,284.6C507.8,284.6,507.8,284.6,507.8,284.6L412.4,45.2c-2-5.1-7.8-7.6-12.9-5.5c0,0,0,0,0,0l-386.8,154\\r c-1.6,0.7-2.9,1.8-4,3.2c-3.2,1.7-5.2,5-5.3,8.6v257.7c0,5.5,4.4,9.9,9.9,9.9h416.4c5.5,0,9.9-4.4,9.9-9.9V322.4l62.6-24.9\\r C507.3,295.4,509.8,289.7,507.8,284.6z M419.9,453.2H23.3V215.3h396.5V453.2z M168.9,195.6l166-66.1\\r c14.8,15.6,35.3,24.4,56.8,24.5l16.6,41.6H168.9z M439.7,301.1v-95.7c0-5.5-4.4-9.9-9.9-9.9h-0.2l-21-52.8\\r c-0.2-0.4-0.5-0.9-0.8-1.2c-1.1-4.8-5.5-8-10.4-7.6c-20,1.8-39.6-6.6-52-22.4c-3.1-3.8-8.5-4.8-12.7-2.2\\r c-0.5,0.1-0.9,0.1-1.4,0.3l-202.6,80.7c-2.5,1-4.4,2.9-5.4,5.3H61.7l336-133.8l88,221L439.7,301.1z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M50.2,386.3c19.2,5.7,34.3,20.7,40,40c1.3,4.2,5.1,7.1,9.5,7.1c0.5,0,1-0.1,1.5-0.2c0.4,0.1,0.9,0.2,1.4,0.3h237.9\\r c0.4-0.1,0.8-0.1,1.2-0.2c5,1.2,9.9-1.8,11.1-6.8c0,0,0,0,0-0.1c5.7-19.3,20.8-34.3,40-40c4.7-1.4,7.6-6.1,6.8-10.9\\r c0.1-0.5,0.2-1,0.3-1.5v-79.3c-0.1-0.5-0.2-1-0.3-1.5c0.8-4.8-2.1-9.5-6.8-10.9c-19.3-5.7-34.3-20.8-40-40\\r c-1.4-4.7-6.1-7.6-11-6.8c-0.5-0.1-0.9-0.2-1.4-0.3H102.6c-0.5,0.1-1,0.2-1.5,0.3c-4.8-0.8-9.5,2.1-10.9,6.8\\r c-5.7,19.3-20.8,34.3-40,40c-4.7,1.4-7.6,6.1-6.8,10.9c-0.1,0.5-0.2,1-0.3,1.5v79.3c0.1,0.5,0.1,0.9,0.3,1.4\\r C42.6,380.2,45.5,384.9,50.2,386.3z M63,298.7c19.9-8,35.7-23.8,43.7-43.7h229.9c8,19.9,23.8,35.7,43.7,43.7v71.3\\r c-19.9,8-35.7,23.8-43.7,43.7H106.7c-8-19.9-23.8-35.7-43.7-43.7V298.7z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M221.6,393.8c32.9,0,59.5-26.6,59.5-59.5s-26.6-59.5-59.5-59.5s-59.5,26.6-59.5,59.5\\r C162.1,367.1,188.8,393.7,221.6,393.8z M221.6,294.6c21.9,0,39.7,17.8,39.7,39.7c0,21.9-17.8,39.7-39.7,39.7\\r s-39.7-17.8-39.7-39.7C181.9,312.4,199.7,294.6,221.6,294.6z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M112.5,349.2c8.2,0,14.9-6.7,14.9-14.9s-6.7-14.9-14.9-14.9s-14.9,6.7-14.9,14.9C97.7,342.5,104.3,349.2,112.5,349.2z\\r M112.5,329.3c2.7,0,5,2.2,5,5c0,2.7-2.2,5-5,5c-2.7,0-5-2.2-5-5C107.6,331.6,109.8,329.3,112.5,329.3z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M330.6,349.2c8.2,0,14.9-6.7,14.9-14.9s-6.7-14.9-14.9-14.9s-14.9,6.7-14.9,14.9C315.8,342.5,322.4,349.2,330.6,349.2z\\r M330.6,329.3c2.7,0,5,2.2,5,5c0,2.7-2.2,5-5,5s-5-2.2-5-5C325.7,331.6,327.9,329.3,330.6,329.3z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-container__table\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-container__table__legend\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"cart-container__table__legend__item\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"cart-container__table__legend__quantity\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"cart-container__table__legend__subtotal\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-container__table__products\",\n          children: /*#__PURE__*/_jsxDEV(CartMapping, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 60\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-container__table__summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"cart-container__table__summary__title\",\n            children: \"Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-container__table__subtotal\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"cart-container__table__subtotal__title\",\n              children: \"Subtotal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"cart-container__table__subtotal__value\",\n              children: [this.state.cart.subTotal || 0, \" PLN\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-container__table__discount\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"cart-container__table__discount__title\",\n              children: \"Discount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"cart-container__table__discount__value\",\n              children: [this.state.cart.subTotal || 0, \" PLN\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Promocode, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-container__table__total\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"cart-container__table__total__title\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"cart-container__table__total__items\",\n              children: [this.state.cart.itemsTotal || 0, \" + \", this.state.cart.itemsTotal == 1 ? \"item\" : \"items\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"cart-container__table__total__value\",\n              children: [this.state.cart.subTotal || 0, \" PLN\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-container__table__buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cart-container__table__buttons__continue-shopping\",\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/shop/all\",\n                children: \"Continue shopping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cart-container__table__buttons__checkout\",\n              children: \"Proceed to checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["C:/Programowanie/store/src/Containers/Shop/Cart.js"],"names":["React","Component","axios","NavLink","FetchProductImg","$","Promocode","Cart","constructor","props","_isMounted","componentDidMount","fetchData","componentDidUpdate","prevProps","prevState","cart","state","console","log","get","then","response","setState","data","text","itemsTotal","catch","error","emptyCart","delete","alterItemQuantity","productId","size","quantity","post","handleQuantityChange","currentQuantity","alteredQuantity","componentWillUnmount","render","CartMapping","length","items","map","item","category","model","productName","price","subTotal"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport FetchProductImg from \"../../Components/Shop/FetchProductImg\";\r\nimport $ from \"jquery\";\r\nimport Promocode from \"../../Components/Shop/Promocode\";\r\n\r\nclass Cart extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cart: [],\r\n    };\r\n\r\n    this.props = props;\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this._isMounted = true;\r\n    this.fetchData();\r\n\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  componentDidUpdate = (prevProps, prevState) => {\r\n    if (prevState.cart !== this.state.cart) {\r\n      console.log(prevState.cart);\r\n      console.log(this.state.cart);\r\n      this._isMounted = true;\r\n      this.fetchData();\r\n      this._isMounted = false;\r\n    }\r\n  };\r\n\r\n  fetchData = () => {\r\n    axios\r\n      .get(\"/api/cart\")\r\n      .then((response) => {\r\n        if (this._isMounted) {\r\n          this.setState({\r\n            cart: response.data,\r\n          });\r\n\r\n          $('.items-counter').text(response.data.itemsTotal)\r\n\r\n          console.log(response);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      \r\n  };\r\n\r\n  emptyCart = () => {\r\n    this._isMounted = true;\r\n\r\n    axios\r\n      .delete(\"/api/cart/empty-cart\")\r\n      .then((response) => {\r\n        if (response.data != null && response.data < 1) {\r\n          response.data = response.data;\r\n        } else {\r\n          response.data = false;\r\n        }\r\n\r\n        this.setState({\r\n          cart: response.data,\r\n        });\r\n\r\n        console.log(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    console.log(\"empty clicked\");\r\n  };\r\n\r\n  alterItemQuantity = (productId, size, quantity) => {\r\n    this._isMounted = true;\r\n\r\n    axios\r\n      .post(\"/api/cart\", {\r\n        productId: productId,\r\n        size: size,\r\n        quantity: quantity,\r\n      })\r\n      .then(\r\n        (response) => {\r\n          console.log(response);\r\n          this.fetchData();\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  handleQuantityChange = (productId, size, quantity, currentQuantity) => {\r\n    \r\n    \r\n    const alteredQuantity = (currentQuantity === 1 && quantity === -1) ? 0 : quantity\r\n\r\n    this.alterItemQuantity(productId, size, alteredQuantity)\r\n\r\n  }\r\n\r\n  render() {\r\n    const CartMapping = () => {\r\n      let cart = {};\r\n\r\n      if (this.state.cart != null && this.state.cart.length < 1) {\r\n        this.state.cart = false;\r\n      }\r\n\r\n      if (this.state.cart) {\r\n        cart = this.state.cart.items.map((item) => (\r\n          <li\r\n            className=\"cart-container__table__products__item\"\r\n            key={item.productId + item.size}\r\n          >\r\n            <NavLink to={\"/shop/\" + item.category + \"/\" + item.productId}>\r\n              <FetchProductImg className={item.model} link={item.model} />\r\n              <div className=\"cart-container__table__products__item__info\">\r\n                <h2 className=\"cart__name\">{item.productName}</h2>\r\n                <h3 className=\"cart__model\">Model: {item.model}</h3>\r\n                <h3 className=\"cart__size\">Size: {item.size}</h3>\r\n              </div>\r\n            </NavLink>\r\n            <div className=\"cart__quantityHandler\">\r\n              <button className=\"cart__quantityHandler__add\" onClick={() =>this.handleQuantityChange(item.productId, item.size, 1, item.quantity)}><h4>+</h4></button>\r\n            <h2 type=\"text\" className=\"cart__qty\">{item.quantity}</h2>\r\n            <button className=\"cart__quantityHandler__deduct\" onClick={() =>this.handleQuantityChange(item.productId, item.size, -1, item.quantity)}><h4>-</h4></button>\r\n            </div>\r\n            <h4 className=\"cart__total\">{item.price} PLN</h4>\r\n            <button\r\n              className=\"cart__exit\"\r\n              onClick={() =>\r\n                this.alterItemQuantity(item.productId, item.size, 0)\r\n              }\r\n            >\r\n              <h2>⨉</h2>\r\n            </button>\r\n            <div className=\"cart-container__table__products__item__line\"></div>\r\n          </li>\r\n        ));\r\n      } else {\r\n        cart = <li className=\"cart-container__table__products__item__line__empty\">The cart is empty</li>\r\n      }\r\n\r\n      return cart;\r\n    };\r\n\r\n    return (\r\n      <div className=\"cart-container\">\r\n        <div className=\"cart-container__tooltip\">\r\n          <h1>cart</h1>\r\n          <ul className=\"cart-container__tooltip__icons\">\r\n            <li className=\"active\">\r\n              <svg\r\n                version=\"1.1\"\r\n                className=\"cart__icon\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                x=\"0px\"\r\n                y=\"0px\"\r\n                viewBox=\"0 0 512 512\"\r\n                enableBackground=\"new 0 0 512 512;\"\r\n              >\r\n                <path\r\n                  d=\"M151.1,332.1L151.1,332.1C151.1,332.1,151.2,332.1,151.1,332.1l249.2,0c6.1,0,11.5-4.1,13.2-10l55-192.4\r\n\tc1.2-4.1,0.4-8.6-2.2-12c-2.6-3.4-6.7-5.5-11-5.5H119.4L109.6,68c-1.4-6.3-7-10.8-13.4-10.8H13.7C6.2,57.3,0,63.4,0,71\r\n\ts6.2,13.7,13.7,13.7h71.4c1.7,7.8,47,211.5,49.6,223.2c-14.6,6.3-24.8,20.9-24.8,37.8c0,22.7,18.5,41.2,41.2,41.2h249.2\r\n\tc7.6,0,13.7-6.2,13.7-13.7c0-7.6-6.2-13.7-13.7-13.7H151.1c-7.6,0-13.7-6.2-13.7-13.7C137.4,338.2,143.5,332.1,151.1,332.1z\r\n\t M437,139.7l-47.1,164.9H162.2l-36.6-164.9H437z\"\r\n                />\r\n                <path\r\n                  d=\"M137.4,428.2c0,22.7,18.5,41.2,41.2,41.2s41.2-18.5,41.2-41.2S201.4,387,178.6,387S137.4,405.5,137.4,428.2z M178.6,414.5\r\n\tc7.6,0,13.7,6.2,13.7,13.7c0,7.6-6.2,13.7-13.7,13.7c-7.6,0-13.7-6.2-13.7-13.7C164.9,420.7,171,414.5,178.6,414.5z\"\r\n                />\r\n                <path\r\n                  d=\"M331.6,428.2c0,22.7,18.5,41.2,41.2,41.2c22.7,0,41.2-18.5,41.2-41.2S395.5,387,372.8,387\r\n\tC350.1,387,331.6,405.5,331.6,428.2z M372.8,414.5c7.6,0,13.7,6.2,13.7,13.7c0,7.6-6.2,13.7-13.7,13.7c-7.6,0-13.7-6.2-13.7-13.7\r\n\tC359.1,420.7,365.2,414.5,372.8,414.5z\"\r\n                />\r\n              </svg>\r\n            </li>\r\n            <li>\r\n              <svg\r\n                version=\"1.1\"\r\n                className=\"cart__icon\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                x=\"0px\"\r\n                y=\"0px\"\r\n                viewBox=\"0 0 512 512\"\r\n                enableBackground=\"new 0 0 512 512;\"\r\n              >\r\n                <g>\r\n                  <path\r\n                    d=\"M256,4.3c-97.6,0-177,79.4-177,177c0,33,9.1,65.2,26.4,93.1l140.5,226.4c2.7,4.3,7.4,7,12.5,7c0,0,0.1,0,0.1,0\r\n\t\t\t\tc5.1,0,9.9-2.8,12.5-7.2L408,271.9c16.3-27.3,25-58.7,25-90.7C433,83.7,353.6,4.3,256,4.3z M382.7,256.8L258.2,464.6L130.5,258.8\r\n\t\t\t\tc-14.4-23.2-22.2-50-22.2-77.5c0-81.3,66.4-147.7,147.7-147.7s147.6,66.4,147.6,147.7C403.6,207.9,396.3,234.1,382.7,256.8z\"\r\n                  />\r\n                </g>\r\n\r\n                <g>\r\n                  <path\r\n                    d=\"M256,92.8c-48.8,0-88.5,39.7-88.5,88.5c0,48.5,39.1,88.5,88.5,88.5c50.1,0,88.5-40.5,88.5-88.5\r\n\t\t\t\tC344.5,132.5,304.8,92.8,256,92.8z M256,240.5c-32.7,0-59.2-26.6-59.2-59.2c0-32.5,26.7-59.2,59.2-59.2s59.1,26.7,59.1,59.2\r\n\t\t\t\tC315.1,213.4,289.2,240.5,256,240.5z\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n            </li>\r\n            <li>\r\n              <svg\r\n                version=\"1.1\"\r\n                className=\"cart__icon\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                x=\"0px\"\r\n                y=\"0px\"\r\n                viewBox=\"0 0 512 512\"\r\n                enableBackground=\"new 0 0 512 512;\"\r\n              >\r\n                <path\r\n                  d=\"M507.8,284.6C507.8,284.6,507.8,284.6,507.8,284.6L412.4,45.2c-2-5.1-7.8-7.6-12.9-5.5c0,0,0,0,0,0l-386.8,154\r\n\t\t\t\tc-1.6,0.7-2.9,1.8-4,3.2c-3.2,1.7-5.2,5-5.3,8.6v257.7c0,5.5,4.4,9.9,9.9,9.9h416.4c5.5,0,9.9-4.4,9.9-9.9V322.4l62.6-24.9\r\n\t\t\t\tC507.3,295.4,509.8,289.7,507.8,284.6z M419.9,453.2H23.3V215.3h396.5V453.2z M168.9,195.6l166-66.1\r\n\t\t\t\tc14.8,15.6,35.3,24.4,56.8,24.5l16.6,41.6H168.9z M439.7,301.1v-95.7c0-5.5-4.4-9.9-9.9-9.9h-0.2l-21-52.8\r\n\t\t\t\tc-0.2-0.4-0.5-0.9-0.8-1.2c-1.1-4.8-5.5-8-10.4-7.6c-20,1.8-39.6-6.6-52-22.4c-3.1-3.8-8.5-4.8-12.7-2.2\r\n\t\t\t\tc-0.5,0.1-0.9,0.1-1.4,0.3l-202.6,80.7c-2.5,1-4.4,2.9-5.4,5.3H61.7l336-133.8l88,221L439.7,301.1z\"\r\n                />\r\n                <path\r\n                  d=\"M50.2,386.3c19.2,5.7,34.3,20.7,40,40c1.3,4.2,5.1,7.1,9.5,7.1c0.5,0,1-0.1,1.5-0.2c0.4,0.1,0.9,0.2,1.4,0.3h237.9\r\n\t\t\t\tc0.4-0.1,0.8-0.1,1.2-0.2c5,1.2,9.9-1.8,11.1-6.8c0,0,0,0,0-0.1c5.7-19.3,20.8-34.3,40-40c4.7-1.4,7.6-6.1,6.8-10.9\r\n\t\t\t\tc0.1-0.5,0.2-1,0.3-1.5v-79.3c-0.1-0.5-0.2-1-0.3-1.5c0.8-4.8-2.1-9.5-6.8-10.9c-19.3-5.7-34.3-20.8-40-40\r\n\t\t\t\tc-1.4-4.7-6.1-7.6-11-6.8c-0.5-0.1-0.9-0.2-1.4-0.3H102.6c-0.5,0.1-1,0.2-1.5,0.3c-4.8-0.8-9.5,2.1-10.9,6.8\r\n\t\t\t\tc-5.7,19.3-20.8,34.3-40,40c-4.7,1.4-7.6,6.1-6.8,10.9c-0.1,0.5-0.2,1-0.3,1.5v79.3c0.1,0.5,0.1,0.9,0.3,1.4\r\n\t\t\t\tC42.6,380.2,45.5,384.9,50.2,386.3z M63,298.7c19.9-8,35.7-23.8,43.7-43.7h229.9c8,19.9,23.8,35.7,43.7,43.7v71.3\r\n\t\t\t\tc-19.9,8-35.7,23.8-43.7,43.7H106.7c-8-19.9-23.8-35.7-43.7-43.7V298.7z\"\r\n                />\r\n                <path\r\n                  d=\"M221.6,393.8c32.9,0,59.5-26.6,59.5-59.5s-26.6-59.5-59.5-59.5s-59.5,26.6-59.5,59.5\r\n\t\t\t\tC162.1,367.1,188.8,393.7,221.6,393.8z M221.6,294.6c21.9,0,39.7,17.8,39.7,39.7c0,21.9-17.8,39.7-39.7,39.7\r\n\t\t\t\ts-39.7-17.8-39.7-39.7C181.9,312.4,199.7,294.6,221.6,294.6z\"\r\n                />\r\n                <path\r\n                  d=\"M112.5,349.2c8.2,0,14.9-6.7,14.9-14.9s-6.7-14.9-14.9-14.9s-14.9,6.7-14.9,14.9C97.7,342.5,104.3,349.2,112.5,349.2z\r\n\t\t\t\t M112.5,329.3c2.7,0,5,2.2,5,5c0,2.7-2.2,5-5,5c-2.7,0-5-2.2-5-5C107.6,331.6,109.8,329.3,112.5,329.3z\"\r\n                />\r\n                <path\r\n                  d=\"M330.6,349.2c8.2,0,14.9-6.7,14.9-14.9s-6.7-14.9-14.9-14.9s-14.9,6.7-14.9,14.9C315.8,342.5,322.4,349.2,330.6,349.2z\r\n\t\t\t\t M330.6,329.3c2.7,0,5,2.2,5,5c0,2.7-2.2,5-5,5s-5-2.2-5-5C325.7,331.6,327.9,329.3,330.6,329.3z\"\r\n                />\r\n              </svg>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        \r\n        <div className=\"cart-container__table\">\r\n          <ul className=\"cart-container__table__legend\">\r\n            <li className=\"cart-container__table__legend__item\">\r\n              <h3>Item</h3>\r\n            </li>\r\n            <li className=\"cart-container__table__legend__quantity\">\r\n              <h3>Quantity</h3>\r\n            </li>\r\n            <li className=\"cart-container__table__legend__subtotal\">\r\n              <h3>Price</h3>\r\n            </li>\r\n          </ul>\r\n          <ul className=\"cart-container__table__products\">{<CartMapping />}</ul>\r\n\r\n          <div className=\"cart-container__table__summary\">\r\n\r\n          <h4 className=\"cart-container__table__summary__title\">Summary</h4>\r\n          \r\n          <div className=\"cart-container__table__subtotal\">\r\n            <h3 className=\"cart-container__table__subtotal__title\">Subtotal</h3>\r\n\r\n            <h3 className=\"cart-container__table__subtotal__value\">\r\n              {this.state.cart.subTotal || 0} PLN\r\n            </h3>\r\n          </div>\r\n\r\n          <div className=\"cart-container__table__discount\">\r\n            <h3 className=\"cart-container__table__discount__title\">Discount</h3>\r\n\r\n            <h3 className=\"cart-container__table__discount__value\">\r\n              {this.state.cart.subTotal || 0} PLN\r\n            </h3>\r\n          </div>\r\n          <Promocode />\r\n          <div className=\"cart-container__table__total\">\r\n            <h2 className=\"cart-container__table__total__title\">Total</h2>\r\n            <h2 className=\"cart-container__table__total__items\">\r\n              {this.state.cart.itemsTotal || 0} + {(this.state.cart.itemsTotal == 1 ? \"item\" : \"items\")}\r\n            </h2>\r\n            <h4 className=\"cart-container__table__total__value\">\r\n              {this.state.cart.subTotal || 0} PLN\r\n            </h4>\r\n          </div>\r\n          <div className=\"cart-container__table__buttons\">\r\n            <button className=\"cart-container__table__buttons__continue-shopping\">\r\n              <NavLink to=\"/shop/all\">Continue shopping</NavLink>\r\n            </button>\r\n            <button className=\"cart-container__table__buttons__checkout\">\r\n              Proceed to checkout\r\n            </button>\r\n          </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}