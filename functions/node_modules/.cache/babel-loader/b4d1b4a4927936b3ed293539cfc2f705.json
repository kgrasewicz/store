{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programowanie\\\\store\\\\src\\\\Containers\\\\Shop\\\\Cart.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { NavLink } from \"react-router-dom\";\nimport FetchProductImg from \"../../Components/Shop/FetchProductImg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.componentDidMount = () => {\n      this._isMounted = true;\n      this.fetchData();\n    };\n\n    this.componentDidUpdate = (prevProps, prevState) => {\n      if (prevState.cart !== this.state.cart) {\n        console.log(prevState.cart);\n        console.log(this.state.cart);\n        this._isMounted = true;\n        this.fetchData();\n        this._isMounted = false;\n      }\n    };\n\n    this.fetchData = () => {\n      axios.get(\"/api/cart\").then(response => {\n        if (this._isMounted) {\n          this.setState({\n            cart: response.data\n          });\n          console.log(response);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.emptyCart = () => {\n      this._isMounted = true;\n      axios.delete(\"/api/cart/empty-cart\").then(response => {\n        if (response.data != null && response.data < 1) {\n          response.data = response.data;\n        } else {\n          response.data = false;\n        }\n\n        this.setState({\n          cart: response.data\n        });\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n      console.log(\"empty clicked\");\n    };\n\n    this.state = {\n      cart: []\n    };\n    this.props = props;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const CartMapping = () => {\n      let cart = [];\n\n      if (this.state.cart != null && this.state.cart.length < 1) {\n        this.state.cart = false;\n      }\n\n      if (this.state.cart) {\n        cart = this.state.cart.items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"cart-container__table__products__item\",\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/shop/\" + item.category + \"/\" + item.productId,\n            children: [/*#__PURE__*/_jsxDEV(FetchProductImg, {\n              className: item.model,\n              link: item.model\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart__qty\",\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart__model\",\n              children: item.model\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart__size\",\n              children: item.size\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart__total\",\n              children: [\" \", item.total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, item.productId + item.size, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this));\n      } else {\n        cart = /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"The cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 16\n        }, this);\n      }\n\n      return cart;\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-container__tooltip\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-container__tooltip__icons\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"active\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              version: \"1.1\",\n              className: \"cart__icon\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              x: \"0px\",\n              y: \"0px\",\n              viewBox: \"0 0 512 512\",\n              enableBackground: \"new 0 0 512 512;\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M165,331L165,331C165,331,165,331,165,331l272,0c6.7,0,12.6-4.4,14.4-10.9l60-210c1.3-4.5,0.4-9.4-2.4-13.2\\r c-2.8-3.8-7.3-6-12-6H130.4l-10.7-48.3C118.1,35.9,112,31,105,31H15C6.7,31,0,37.7,0,46s6.7,15,15,15h78\\r c1.9,8.6,51.3,230.9,54.2,243.7c-15.9,6.9-27.1,22.8-27.1,41.3c0,24.8,20.2,45,45,45h272c8.3,0,15-6.7,15-15s-6.7-15-15-15H165\\r c-8.3,0-15-6.7-15-15C150,337.7,156.7,331,165,331z M477.1,121l-51.4,180H177l-40-180H477.1z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M150,436c0,24.8,20.2,45,45,45s45-20.2,45-45s-20.2-45-45-45S150,411.2,150,436z M195,421c8.3,0,15,6.7,15,15s-6.7,15-15,15\\r s-15-6.7-15-15S186.7,421,195,421z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M362,436c0,24.8,20.2,45,45,45s45-20.2,45-45s-20.2-45-45-45S362,411.2,362,436z M407,421c8.3,0,15,6.7,15,15s-6.7,15-15,15\\r s-15-6.7-15-15S398.7,421,407,421z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              version: \"1.1\",\n              className: \"cart__icon\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              x: \"0px\",\n              y: \"0px\",\n              viewBox: \"0 0 512 512\",\n              enableBackground: \"new 0 0 512 512;\",\n              children: [/*#__PURE__*/_jsxDEV(\"g\", {\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M256,4.3c-97.6,0-177,79.4-177,177c0,33,9.1,65.2,26.4,93.1l140.5,226.4c2.7,4.3,7.4,7,12.5,7c0,0,0.1,0,0.1,0\\r c5.1,0,9.9-2.8,12.5-7.2L408,271.9c16.3-27.3,25-58.7,25-90.7C433,83.7,353.6,4.3,256,4.3z M382.7,256.8L258.2,464.6L130.5,258.8\\r c-14.4-23.2-22.2-50-22.2-77.5c0-81.3,66.4-147.7,147.7-147.7s147.6,66.4,147.6,147.7C403.6,207.9,396.3,234.1,382.7,256.8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M256,92.8c-48.8,0-88.5,39.7-88.5,88.5c0,48.5,39.1,88.5,88.5,88.5c50.1,0,88.5-40.5,88.5-88.5\\r C344.5,132.5,304.8,92.8,256,92.8z M256,240.5c-32.7,0-59.2-26.6-59.2-59.2c0-32.5,26.7-59.2,59.2-59.2s59.1,26.7,59.1,59.2\\r C315.1,213.4,289.2,240.5,256,240.5z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              version: \"1.1\",\n              className: \"cart__icon\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              x: \"0px\",\n              y: \"0px\",\n              viewBox: \"0 0 512 512\",\n              enableBackground: \"new 0 0 512 512;\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M507.8,284.6C507.8,284.6,507.8,284.6,507.8,284.6L412.4,45.2c-2-5.1-7.8-7.6-12.9-5.5c0,0,0,0,0,0l-386.8,154\\r c-1.6,0.7-2.9,1.8-4,3.2c-3.2,1.7-5.2,5-5.3,8.6v257.7c0,5.5,4.4,9.9,9.9,9.9h416.4c5.5,0,9.9-4.4,9.9-9.9V322.4l62.6-24.9\\r C507.3,295.4,509.8,289.7,507.8,284.6z M419.9,453.2H23.3V215.3h396.5V453.2z M168.9,195.6l166-66.1\\r c14.8,15.6,35.3,24.4,56.8,24.5l16.6,41.6H168.9z M439.7,301.1v-95.7c0-5.5-4.4-9.9-9.9-9.9h-0.2l-21-52.8\\r c-0.2-0.4-0.5-0.9-0.8-1.2c-1.1-4.8-5.5-8-10.4-7.6c-20,1.8-39.6-6.6-52-22.4c-3.1-3.8-8.5-4.8-12.7-2.2\\r c-0.5,0.1-0.9,0.1-1.4,0.3l-202.6,80.7c-2.5,1-4.4,2.9-5.4,5.3H61.7l336-133.8l88,221L439.7,301.1z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M50.2,386.3c19.2,5.7,34.3,20.7,40,40c1.3,4.2,5.1,7.1,9.5,7.1c0.5,0,1-0.1,1.5-0.2c0.4,0.1,0.9,0.2,1.4,0.3h237.9\\r c0.4-0.1,0.8-0.1,1.2-0.2c5,1.2,9.9-1.8,11.1-6.8c0,0,0,0,0-0.1c5.7-19.3,20.8-34.3,40-40c4.7-1.4,7.6-6.1,6.8-10.9\\r c0.1-0.5,0.2-1,0.3-1.5v-79.3c-0.1-0.5-0.2-1-0.3-1.5c0.8-4.8-2.1-9.5-6.8-10.9c-19.3-5.7-34.3-20.8-40-40\\r c-1.4-4.7-6.1-7.6-11-6.8c-0.5-0.1-0.9-0.2-1.4-0.3H102.6c-0.5,0.1-1,0.2-1.5,0.3c-4.8-0.8-9.5,2.1-10.9,6.8\\r c-5.7,19.3-20.8,34.3-40,40c-4.7,1.4-7.6,6.1-6.8,10.9c-0.1,0.5-0.2,1-0.3,1.5v79.3c0.1,0.5,0.1,0.9,0.3,1.4\\r C42.6,380.2,45.5,384.9,50.2,386.3z M63,298.7c19.9-8,35.7-23.8,43.7-43.7h229.9c8,19.9,23.8,35.7,43.7,43.7v71.3\\r c-19.9,8-35.7,23.8-43.7,43.7H106.7c-8-19.9-23.8-35.7-43.7-43.7V298.7z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M221.6,393.8c32.9,0,59.5-26.6,59.5-59.5s-26.6-59.5-59.5-59.5s-59.5,26.6-59.5,59.5\\r C162.1,367.1,188.8,393.7,221.6,393.8z M221.6,294.6c21.9,0,39.7,17.8,39.7,39.7c0,21.9-17.8,39.7-39.7,39.7\\r s-39.7-17.8-39.7-39.7C181.9,312.4,199.7,294.6,221.6,294.6z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M112.5,349.2c8.2,0,14.9-6.7,14.9-14.9s-6.7-14.9-14.9-14.9s-14.9,6.7-14.9,14.9C97.7,342.5,104.3,349.2,112.5,349.2z\\r M112.5,329.3c2.7,0,5,2.2,5,5c0,2.7-2.2,5-5,5c-2.7,0-5-2.2-5-5C107.6,331.6,109.8,329.3,112.5,329.3z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M330.6,349.2c8.2,0,14.9-6.7,14.9-14.9s-6.7-14.9-14.9-14.9s-14.9,6.7-14.9,14.9C315.8,342.5,322.4,349.2,330.6,349.2z\\r M330.6,329.3c2.7,0,5,2.2,5,5c0,2.7-2.2,5-5,5s-5-2.2-5-5C325.7,331.6,327.9,329.3,330.6,329.3z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-container__table\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-container__table__legend\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"cart-container__table__legend__item\",\n            children: \"Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"cart-container__table__legend__quantity\",\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"cart-container__table__legend__subtotal\",\n            children: \"Subtotal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-container__table__products\",\n          children: /*#__PURE__*/_jsxDEV(CartMapping, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Total:\", \" \", () => {\n            if (this.state.cart) {\n              return this.state.cart.subTotal;\n            } else {\n              return 0;\n            }\n          }]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cart-container__table__continue-shopping\",\n          children: [\"Continue shopping\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cart-container__table__checkout\",\n          children: \"Proceed to checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["C:/Programowanie/store/src/Containers/Shop/Cart.js"],"names":["React","Component","axios","NavLink","FetchProductImg","Cart","constructor","props","_isMounted","componentDidMount","fetchData","componentDidUpdate","prevProps","prevState","cart","state","console","log","get","then","response","setState","data","catch","error","emptyCart","delete","componentWillUnmount","render","CartMapping","length","items","map","item","category","productId","model","quantity","size","total","subTotal"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport FetchProductImg from \"../../Components/Shop/FetchProductImg\";\r\n\r\nclass Cart extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cart: [],\r\n    };\r\n\r\n    this.props = props;\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this._isMounted = true;\r\n    this.fetchData();\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  componentDidUpdate = (prevProps, prevState) => {\r\n    if (prevState.cart !== this.state.cart) {\r\n      console.log(prevState.cart);\r\n      console.log(this.state.cart);\r\n      this._isMounted = true;\r\n      this.fetchData();\r\n      this._isMounted = false;\r\n    }\r\n  };\r\n\r\n  fetchData = () => {\r\n    axios\r\n      .get(\"/api/cart\")\r\n      .then((response) => {\r\n        if (this._isMounted) {\r\n          this.setState({\r\n            cart: response.data,\r\n          });\r\n\r\n          console.log(response);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  emptyCart = () => {\r\n    this._isMounted = true;\r\n\r\n    axios\r\n      .delete(\"/api/cart/empty-cart\")\r\n      .then((response) => {\r\n        if (response.data != null && response.data < 1) {\r\n          response.data = response.data;\r\n        } else {\r\n          response.data = false;\r\n        }\r\n\r\n        this.setState({\r\n          cart: response.data,\r\n        });\r\n\r\n        console.log(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    console.log(\"empty clicked\");\r\n  };\r\n\r\n  render() {\r\n    const CartMapping = () => {\r\n      let cart = [];\r\n\r\n      if (this.state.cart != null && this.state.cart.length < 1) {\r\n        this.state.cart = false;\r\n      }\r\n\r\n      if (this.state.cart) {\r\n        cart = this.state.cart.items.map((item) => (\r\n          <li\r\n            className=\"cart-container__table__products__item\"\r\n            key={item.productId + item.size}\r\n          >\r\n            <NavLink to={\"/shop/\" + item.category + \"/\" + item.productId}>\r\n              <FetchProductImg className={item.model} link={item.model} />\r\n\r\n              <div className=\"cart__qty\">{item.quantity}</div>\r\n              <div className=\"cart__model\">{item.model}</div>\r\n              <div className=\"cart__size\">{item.size}</div>\r\n              <div className=\"cart__total\"> {item.total}</div>\r\n            </NavLink>\r\n          </li>\r\n        ));\r\n      } else {\r\n        cart = <div>The cart is empty</div>;\r\n      }\r\n\r\n      return cart;\r\n    };\r\n\r\n    return (\r\n      <div className=\"cart-container\">\r\n        <div className=\"cart-container__tooltip\">\r\n          <h1>cart</h1>\r\n          <ul className=\"cart-container__tooltip__icons\">\r\n            <li className=\"active\">\r\n              <svg\r\n                version=\"1.1\"\r\n                className=\"cart__icon\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                x=\"0px\"\r\n                y=\"0px\"\r\n                viewBox=\"0 0 512 512\"\r\n                enableBackground=\"new 0 0 512 512;\"\r\n              >\r\n                <path\r\n                  d=\"M165,331L165,331C165,331,165,331,165,331l272,0c6.7,0,12.6-4.4,14.4-10.9l60-210c1.3-4.5,0.4-9.4-2.4-13.2\r\n\tc-2.8-3.8-7.3-6-12-6H130.4l-10.7-48.3C118.1,35.9,112,31,105,31H15C6.7,31,0,37.7,0,46s6.7,15,15,15h78\r\n\tc1.9,8.6,51.3,230.9,54.2,243.7c-15.9,6.9-27.1,22.8-27.1,41.3c0,24.8,20.2,45,45,45h272c8.3,0,15-6.7,15-15s-6.7-15-15-15H165\r\n\tc-8.3,0-15-6.7-15-15C150,337.7,156.7,331,165,331z M477.1,121l-51.4,180H177l-40-180H477.1z\"\r\n                />\r\n                <path\r\n                  d=\"M150,436c0,24.8,20.2,45,45,45s45-20.2,45-45s-20.2-45-45-45S150,411.2,150,436z M195,421c8.3,0,15,6.7,15,15s-6.7,15-15,15\r\n\ts-15-6.7-15-15S186.7,421,195,421z\"\r\n                />\r\n                <path\r\n                  d=\"M362,436c0,24.8,20.2,45,45,45s45-20.2,45-45s-20.2-45-45-45S362,411.2,362,436z M407,421c8.3,0,15,6.7,15,15s-6.7,15-15,15\r\n\ts-15-6.7-15-15S398.7,421,407,421z\"\r\n                />\r\n              </svg>\r\n            </li>\r\n            <li>\r\n              <svg\r\n                version=\"1.1\"\r\n                className=\"cart__icon\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                x=\"0px\"\r\n                y=\"0px\"\r\n                viewBox=\"0 0 512 512\"\r\n                enableBackground=\"new 0 0 512 512;\"\r\n              >\r\n                <g>\r\n                  <path\r\n                    d=\"M256,4.3c-97.6,0-177,79.4-177,177c0,33,9.1,65.2,26.4,93.1l140.5,226.4c2.7,4.3,7.4,7,12.5,7c0,0,0.1,0,0.1,0\r\n\t\t\t\tc5.1,0,9.9-2.8,12.5-7.2L408,271.9c16.3-27.3,25-58.7,25-90.7C433,83.7,353.6,4.3,256,4.3z M382.7,256.8L258.2,464.6L130.5,258.8\r\n\t\t\t\tc-14.4-23.2-22.2-50-22.2-77.5c0-81.3,66.4-147.7,147.7-147.7s147.6,66.4,147.6,147.7C403.6,207.9,396.3,234.1,382.7,256.8z\"\r\n                  />\r\n                </g>\r\n\r\n                <g>\r\n                  <path\r\n                    d=\"M256,92.8c-48.8,0-88.5,39.7-88.5,88.5c0,48.5,39.1,88.5,88.5,88.5c50.1,0,88.5-40.5,88.5-88.5\r\n\t\t\t\tC344.5,132.5,304.8,92.8,256,92.8z M256,240.5c-32.7,0-59.2-26.6-59.2-59.2c0-32.5,26.7-59.2,59.2-59.2s59.1,26.7,59.1,59.2\r\n\t\t\t\tC315.1,213.4,289.2,240.5,256,240.5z\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n            </li>\r\n            <li>\r\n              <svg\r\n                version=\"1.1\"\r\n                className=\"cart__icon\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                x=\"0px\"\r\n                y=\"0px\"\r\n                viewBox=\"0 0 512 512\"\r\n                enableBackground=\"new 0 0 512 512;\"\r\n              >\r\n                <path\r\n                  d=\"M507.8,284.6C507.8,284.6,507.8,284.6,507.8,284.6L412.4,45.2c-2-5.1-7.8-7.6-12.9-5.5c0,0,0,0,0,0l-386.8,154\r\n\t\t\t\tc-1.6,0.7-2.9,1.8-4,3.2c-3.2,1.7-5.2,5-5.3,8.6v257.7c0,5.5,4.4,9.9,9.9,9.9h416.4c5.5,0,9.9-4.4,9.9-9.9V322.4l62.6-24.9\r\n\t\t\t\tC507.3,295.4,509.8,289.7,507.8,284.6z M419.9,453.2H23.3V215.3h396.5V453.2z M168.9,195.6l166-66.1\r\n\t\t\t\tc14.8,15.6,35.3,24.4,56.8,24.5l16.6,41.6H168.9z M439.7,301.1v-95.7c0-5.5-4.4-9.9-9.9-9.9h-0.2l-21-52.8\r\n\t\t\t\tc-0.2-0.4-0.5-0.9-0.8-1.2c-1.1-4.8-5.5-8-10.4-7.6c-20,1.8-39.6-6.6-52-22.4c-3.1-3.8-8.5-4.8-12.7-2.2\r\n\t\t\t\tc-0.5,0.1-0.9,0.1-1.4,0.3l-202.6,80.7c-2.5,1-4.4,2.9-5.4,5.3H61.7l336-133.8l88,221L439.7,301.1z\"\r\n                />\r\n                <path\r\n                  d=\"M50.2,386.3c19.2,5.7,34.3,20.7,40,40c1.3,4.2,5.1,7.1,9.5,7.1c0.5,0,1-0.1,1.5-0.2c0.4,0.1,0.9,0.2,1.4,0.3h237.9\r\n\t\t\t\tc0.4-0.1,0.8-0.1,1.2-0.2c5,1.2,9.9-1.8,11.1-6.8c0,0,0,0,0-0.1c5.7-19.3,20.8-34.3,40-40c4.7-1.4,7.6-6.1,6.8-10.9\r\n\t\t\t\tc0.1-0.5,0.2-1,0.3-1.5v-79.3c-0.1-0.5-0.2-1-0.3-1.5c0.8-4.8-2.1-9.5-6.8-10.9c-19.3-5.7-34.3-20.8-40-40\r\n\t\t\t\tc-1.4-4.7-6.1-7.6-11-6.8c-0.5-0.1-0.9-0.2-1.4-0.3H102.6c-0.5,0.1-1,0.2-1.5,0.3c-4.8-0.8-9.5,2.1-10.9,6.8\r\n\t\t\t\tc-5.7,19.3-20.8,34.3-40,40c-4.7,1.4-7.6,6.1-6.8,10.9c-0.1,0.5-0.2,1-0.3,1.5v79.3c0.1,0.5,0.1,0.9,0.3,1.4\r\n\t\t\t\tC42.6,380.2,45.5,384.9,50.2,386.3z M63,298.7c19.9-8,35.7-23.8,43.7-43.7h229.9c8,19.9,23.8,35.7,43.7,43.7v71.3\r\n\t\t\t\tc-19.9,8-35.7,23.8-43.7,43.7H106.7c-8-19.9-23.8-35.7-43.7-43.7V298.7z\"\r\n                />\r\n                <path\r\n                  d=\"M221.6,393.8c32.9,0,59.5-26.6,59.5-59.5s-26.6-59.5-59.5-59.5s-59.5,26.6-59.5,59.5\r\n\t\t\t\tC162.1,367.1,188.8,393.7,221.6,393.8z M221.6,294.6c21.9,0,39.7,17.8,39.7,39.7c0,21.9-17.8,39.7-39.7,39.7\r\n\t\t\t\ts-39.7-17.8-39.7-39.7C181.9,312.4,199.7,294.6,221.6,294.6z\"\r\n                />\r\n                <path\r\n                  d=\"M112.5,349.2c8.2,0,14.9-6.7,14.9-14.9s-6.7-14.9-14.9-14.9s-14.9,6.7-14.9,14.9C97.7,342.5,104.3,349.2,112.5,349.2z\r\n\t\t\t\t M112.5,329.3c2.7,0,5,2.2,5,5c0,2.7-2.2,5-5,5c-2.7,0-5-2.2-5-5C107.6,331.6,109.8,329.3,112.5,329.3z\"\r\n                />\r\n                <path\r\n                  d=\"M330.6,349.2c8.2,0,14.9-6.7,14.9-14.9s-6.7-14.9-14.9-14.9s-14.9,6.7-14.9,14.9C315.8,342.5,322.4,349.2,330.6,349.2z\r\n\t\t\t\t M330.6,329.3c2.7,0,5,2.2,5,5c0,2.7-2.2,5-5,5s-5-2.2-5-5C325.7,331.6,327.9,329.3,330.6,329.3z\"\r\n                />\r\n              </svg>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div className=\"cart-container__table\">\r\n          <ul className=\"cart-container__table__legend\">\r\n            <li className=\"cart-container__table__legend__item\">Item</li>\r\n            <li className=\"cart-container__table__legend__quantity\">\r\n              Quantity\r\n            </li>\r\n            <li className=\"cart-container__table__legend__subtotal\">\r\n              Subtotal\r\n            </li>\r\n          </ul>\r\n          <ul className=\"cart-container__table__products\">\r\n            <CartMapping />\r\n          </ul>\r\n\r\n          <h2>\r\n            Total:{\" \"}\r\n            {() => {\r\n              if (this.state.cart) {\r\n                return this.state.cart.subTotal;\r\n              } else {\r\n                return 0;\r\n              }\r\n            }}\r\n          </h2>\r\n          <button className=\"cart-container__table__continue-shopping\">\r\n            Continue shopping{\" \"}\r\n          </button>\r\n          <button className=\"cart-container__table__checkout\">\r\n            Proceed to checkout\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}