{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { hasClass } from 'dom-lib';\nimport ArrowDown from '@rsuite/icons/legacy/ArrowDown';\nimport Spinner from '@rsuite/icons/legacy/Spinner';\nimport reactToString from '../utils/reactToString';\nimport { useClassNames, TREE_NODE_PADDING, TREE_NODE_ROOT_PADDING } from '../utils';\nvar TreeNode = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _extends2;\n\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      rtl = _ref.rtl,\n      label = _ref.label,\n      layer = _ref.layer,\n      style = _ref.style,\n      active = _ref.active,\n      loading = _ref.loading,\n      nodeData = _ref.nodeData,\n      className = _ref.className,\n      classPrefix = _ref.classPrefix,\n      disabled = _ref.disabled,\n      visible = _ref.visible,\n      draggable = _ref.draggable,\n      expand = _ref.expand,\n      focus = _ref.focus,\n      hasChildren = _ref.hasChildren,\n      dragging = _ref.dragging,\n      dragOver = _ref.dragOver,\n      dragOverTop = _ref.dragOverTop,\n      dragOverBottom = _ref.dragOverBottom,\n      onSelect = _ref.onSelect,\n      onDragStart = _ref.onDragStart,\n      onDragOver = _ref.onDragOver,\n      onDragEnter = _ref.onDragEnter,\n      onDragLeave = _ref.onDragLeave,\n      onDragEnd = _ref.onDragEnd,\n      onDrop = _ref.onDrop,\n      onExpand = _ref.onExpand,\n      onRenderTreeIcon = _ref.onRenderTreeIcon,\n      onRenderTreeNode = _ref.onRenderTreeNode,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"as\", \"rtl\", \"label\", \"layer\", \"style\", \"active\", \"loading\", \"nodeData\", \"className\", \"classPrefix\", \"disabled\", \"visible\", \"draggable\", \"expand\", \"focus\", \"hasChildren\", \"dragging\", \"dragOver\", \"dragOverTop\", \"dragOverBottom\", \"onSelect\", \"onDragStart\", \"onDragOver\", \"onDragEnter\", \"onDragLeave\", \"onDragEnd\", \"onDrop\", \"onExpand\", \"onRenderTreeIcon\", \"onRenderTreeNode\"]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      prefix = _useClassNames.prefix,\n      merge = _useClassNames.merge,\n      withClassPrefix = _useClassNames.withClassPrefix;\n\n  var getTitle = useCallback(function () {\n    if (typeof label === 'string') {\n      return label;\n    } else if ( /*#__PURE__*/React.isValidElement(label)) {\n      var nodes = reactToString(label);\n      return nodes.join('');\n    }\n  }, [label]);\n  var handleExpand = useCallback(function (event) {\n    var _event$nativeEvent, _event$nativeEvent$st; // stop propagation when using custom loading icon\n\n\n    event === null || event === void 0 ? void 0 : (_event$nativeEvent = event.nativeEvent) === null || _event$nativeEvent === void 0 ? void 0 : (_event$nativeEvent$st = _event$nativeEvent.stopImmediatePropagation) === null || _event$nativeEvent$st === void 0 ? void 0 : _event$nativeEvent$st.call(_event$nativeEvent);\n    onExpand === null || onExpand === void 0 ? void 0 : onExpand(nodeData);\n  }, [nodeData, onExpand]);\n  var handleSelect = useCallback(function (event) {\n    if (disabled) {\n      return;\n    }\n\n    if (event.target instanceof HTMLElement) {\n      if (hasClass(event.target.parentNode, prefix('expand-icon-wrapper'))) {\n        return;\n      }\n    }\n\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(nodeData, event);\n  }, [nodeData, disabled, prefix, onSelect]);\n  var handleDragStart = useCallback(function (event) {\n    var dragNode = document.getElementById('drag-node');\n\n    if (dragNode) {\n      event.dataTransfer.setDragImage(dragNode, 0, 0);\n    }\n\n    onDragStart === null || onDragStart === void 0 ? void 0 : onDragStart(nodeData, event);\n  }, [nodeData, onDragStart]);\n  var handleDragEnter = useCallback(function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n    onDragEnter === null || onDragEnter === void 0 ? void 0 : onDragEnter(nodeData, event);\n  }, [nodeData, onDragEnter]);\n  var handleDragOver = useCallback(function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n    onDragOver === null || onDragOver === void 0 ? void 0 : onDragOver(nodeData, event);\n  }, [nodeData, onDragOver]);\n  var handleDragLeave = useCallback(function (event) {\n    event.stopPropagation();\n    onDragLeave === null || onDragLeave === void 0 ? void 0 : onDragLeave(nodeData, event);\n  }, [nodeData, onDragLeave]);\n  var handleDragEnd = useCallback(function (event) {\n    event.stopPropagation();\n    onDragEnd === null || onDragEnd === void 0 ? void 0 : onDragEnd(nodeData, event);\n  }, [nodeData, onDragEnd]);\n  var handleDrop = useCallback(function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n    onDrop === null || onDrop === void 0 ? void 0 : onDrop(nodeData, event);\n  }, [nodeData, onDrop]);\n\n  var renderIcon = function renderIcon() {\n    var classes = prefix('expand-icon', 'icon', {\n      expanded: expand\n    });\n    var expandIcon = /*#__PURE__*/React.createElement(ArrowDown, {\n      className: classes\n    });\n\n    if (loading) {\n      expandIcon = /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('loading-icon')\n      }, /*#__PURE__*/React.createElement(Spinner, {\n        spin: true\n      }));\n    }\n\n    if (nodeData !== undefined && typeof onRenderTreeIcon === 'function') {\n      var customIcon = onRenderTreeIcon(nodeData);\n      expandIcon = customIcon !== null ? /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('custom-icon')\n      }, customIcon) : expandIcon;\n    }\n\n    return hasChildren ? /*#__PURE__*/React.createElement(\"div\", {\n      role: \"button\",\n      tabIndex: -1,\n      \"data-ref\": nodeData.refKey,\n      className: prefix('expand-icon-wrapper'),\n      onClick: handleExpand\n    }, expandIcon) : null;\n  };\n\n  var renderLabel = function renderLabel() {\n    var contentClasses = prefix('label-content', {\n      dragging: dragging,\n      'drag-over': dragOver,\n      'drag-over-top': dragOverTop,\n      'drag-over-bottom': dragOverBottom\n    });\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: prefix('label'),\n      title: getTitle(),\n      \"data-layer\": layer,\n      \"data-key\": (nodeData === null || nodeData === void 0 ? void 0 : nodeData.refKey) || '',\n      role: \"button\",\n      tabIndex: -1,\n      onClick: handleSelect\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: contentClasses\n    }, onRenderTreeNode ? onRenderTreeNode(nodeData) : label));\n  };\n\n  var classes = merge(className, withClassPrefix({\n    disabled: disabled,\n    active: active,\n    'text-muted': disabled,\n    focus: focus\n  })); // layer start from 1\n\n  var padding = (layer - 1) * TREE_NODE_PADDING + TREE_NODE_ROOT_PADDING;\n\n  var styles = _extends({}, style, (_extends2 = {}, _extends2[rtl ? 'paddingRight' : 'paddingLeft'] = padding, _extends2));\n\n  return visible ? /*#__PURE__*/React.createElement(Component, _extends({\n    role: \"treeitem\"\n  }, rest, {\n    \"aria-expanded\": expand,\n    \"aria-label\": label,\n    \"aria-level\": layer,\n    \"aria-disabled\": disabled,\n    \"aria-selected\": active,\n    style: styles,\n    className: classes,\n    ref: ref,\n    draggable: draggable,\n    onDragStart: handleDragStart,\n    onDragEnter: handleDragEnter,\n    onDragOver: handleDragOver,\n    onDragLeave: handleDragLeave,\n    onDragEnd: handleDragEnd,\n    onDrop: handleDrop\n  }), renderIcon(), renderLabel()) : null;\n});\nTreeNode.displayName = 'TreePickerNode';\nTreeNode.defaultProps = {\n  visible: true,\n  classPrefix: 'tree-node'\n};\nTreeNode.propTypes = {\n  as: PropTypes.elementType,\n  rtl: PropTypes.bool,\n  focus: PropTypes.bool,\n  layer: PropTypes.number,\n  value: PropTypes.any,\n  label: PropTypes.any,\n  expand: PropTypes.bool,\n  active: PropTypes.bool,\n  loading: PropTypes.bool,\n  visible: PropTypes.bool,\n  nodeData: PropTypes.any,\n  disabled: PropTypes.bool,\n  draggable: PropTypes.bool,\n  dragging: PropTypes.bool,\n  dragOver: PropTypes.bool,\n  dragOverTop: PropTypes.bool,\n  dragOverBottom: PropTypes.bool,\n  hasChildren: PropTypes.bool,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  style: PropTypes.object,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  onRenderTreeIcon: PropTypes.func,\n  onRenderTreeNode: PropTypes.func,\n  onDragStart: PropTypes.func,\n  onDragEnter: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onDragLeave: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDrop: PropTypes.func\n};\nexport default TreeNode;","map":{"version":3,"sources":["C:/Programowanie/store/node_modules/rsuite/es/TreePicker/TreeNode.js"],"names":["_extends","_objectWithoutPropertiesLoose","React","forwardRef","useCallback","PropTypes","hasClass","ArrowDown","Spinner","reactToString","useClassNames","TREE_NODE_PADDING","TREE_NODE_ROOT_PADDING","TreeNode","_ref","ref","_extends2","_ref$as","as","Component","rtl","label","layer","style","active","loading","nodeData","className","classPrefix","disabled","visible","draggable","expand","focus","hasChildren","dragging","dragOver","dragOverTop","dragOverBottom","onSelect","onDragStart","onDragOver","onDragEnter","onDragLeave","onDragEnd","onDrop","onExpand","onRenderTreeIcon","onRenderTreeNode","rest","_useClassNames","prefix","merge","withClassPrefix","getTitle","isValidElement","nodes","join","handleExpand","event","_event$nativeEvent","_event$nativeEvent$st","nativeEvent","stopImmediatePropagation","call","handleSelect","target","HTMLElement","parentNode","handleDragStart","dragNode","document","getElementById","dataTransfer","setDragImage","handleDragEnter","preventDefault","stopPropagation","handleDragOver","handleDragLeave","handleDragEnd","handleDrop","renderIcon","classes","expanded","expandIcon","createElement","spin","undefined","customIcon","role","tabIndex","refKey","onClick","renderLabel","contentClasses","title","padding","styles","displayName","defaultProps","propTypes","elementType","bool","number","value","any","string","object","func"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { hasClass } from 'dom-lib';\nimport ArrowDown from '@rsuite/icons/legacy/ArrowDown';\nimport Spinner from '@rsuite/icons/legacy/Spinner';\nimport reactToString from '../utils/reactToString';\nimport { useClassNames, TREE_NODE_PADDING, TREE_NODE_ROOT_PADDING } from '../utils';\nvar TreeNode = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _extends2;\n\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      rtl = _ref.rtl,\n      label = _ref.label,\n      layer = _ref.layer,\n      style = _ref.style,\n      active = _ref.active,\n      loading = _ref.loading,\n      nodeData = _ref.nodeData,\n      className = _ref.className,\n      classPrefix = _ref.classPrefix,\n      disabled = _ref.disabled,\n      visible = _ref.visible,\n      draggable = _ref.draggable,\n      expand = _ref.expand,\n      focus = _ref.focus,\n      hasChildren = _ref.hasChildren,\n      dragging = _ref.dragging,\n      dragOver = _ref.dragOver,\n      dragOverTop = _ref.dragOverTop,\n      dragOverBottom = _ref.dragOverBottom,\n      onSelect = _ref.onSelect,\n      onDragStart = _ref.onDragStart,\n      onDragOver = _ref.onDragOver,\n      onDragEnter = _ref.onDragEnter,\n      onDragLeave = _ref.onDragLeave,\n      onDragEnd = _ref.onDragEnd,\n      onDrop = _ref.onDrop,\n      onExpand = _ref.onExpand,\n      onRenderTreeIcon = _ref.onRenderTreeIcon,\n      onRenderTreeNode = _ref.onRenderTreeNode,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"as\", \"rtl\", \"label\", \"layer\", \"style\", \"active\", \"loading\", \"nodeData\", \"className\", \"classPrefix\", \"disabled\", \"visible\", \"draggable\", \"expand\", \"focus\", \"hasChildren\", \"dragging\", \"dragOver\", \"dragOverTop\", \"dragOverBottom\", \"onSelect\", \"onDragStart\", \"onDragOver\", \"onDragEnter\", \"onDragLeave\", \"onDragEnd\", \"onDrop\", \"onExpand\", \"onRenderTreeIcon\", \"onRenderTreeNode\"]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      prefix = _useClassNames.prefix,\n      merge = _useClassNames.merge,\n      withClassPrefix = _useClassNames.withClassPrefix;\n\n  var getTitle = useCallback(function () {\n    if (typeof label === 'string') {\n      return label;\n    } else if ( /*#__PURE__*/React.isValidElement(label)) {\n      var nodes = reactToString(label);\n      return nodes.join('');\n    }\n  }, [label]);\n  var handleExpand = useCallback(function (event) {\n    var _event$nativeEvent, _event$nativeEvent$st;\n\n    // stop propagation when using custom loading icon\n    event === null || event === void 0 ? void 0 : (_event$nativeEvent = event.nativeEvent) === null || _event$nativeEvent === void 0 ? void 0 : (_event$nativeEvent$st = _event$nativeEvent.stopImmediatePropagation) === null || _event$nativeEvent$st === void 0 ? void 0 : _event$nativeEvent$st.call(_event$nativeEvent);\n    onExpand === null || onExpand === void 0 ? void 0 : onExpand(nodeData);\n  }, [nodeData, onExpand]);\n  var handleSelect = useCallback(function (event) {\n    if (disabled) {\n      return;\n    }\n\n    if (event.target instanceof HTMLElement) {\n      if (hasClass(event.target.parentNode, prefix('expand-icon-wrapper'))) {\n        return;\n      }\n    }\n\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(nodeData, event);\n  }, [nodeData, disabled, prefix, onSelect]);\n  var handleDragStart = useCallback(function (event) {\n    var dragNode = document.getElementById('drag-node');\n\n    if (dragNode) {\n      event.dataTransfer.setDragImage(dragNode, 0, 0);\n    }\n\n    onDragStart === null || onDragStart === void 0 ? void 0 : onDragStart(nodeData, event);\n  }, [nodeData, onDragStart]);\n  var handleDragEnter = useCallback(function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n    onDragEnter === null || onDragEnter === void 0 ? void 0 : onDragEnter(nodeData, event);\n  }, [nodeData, onDragEnter]);\n  var handleDragOver = useCallback(function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n    onDragOver === null || onDragOver === void 0 ? void 0 : onDragOver(nodeData, event);\n  }, [nodeData, onDragOver]);\n  var handleDragLeave = useCallback(function (event) {\n    event.stopPropagation();\n    onDragLeave === null || onDragLeave === void 0 ? void 0 : onDragLeave(nodeData, event);\n  }, [nodeData, onDragLeave]);\n  var handleDragEnd = useCallback(function (event) {\n    event.stopPropagation();\n    onDragEnd === null || onDragEnd === void 0 ? void 0 : onDragEnd(nodeData, event);\n  }, [nodeData, onDragEnd]);\n  var handleDrop = useCallback(function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n    onDrop === null || onDrop === void 0 ? void 0 : onDrop(nodeData, event);\n  }, [nodeData, onDrop]);\n\n  var renderIcon = function renderIcon() {\n    var classes = prefix('expand-icon', 'icon', {\n      expanded: expand\n    });\n    var expandIcon = /*#__PURE__*/React.createElement(ArrowDown, {\n      className: classes\n    });\n\n    if (loading) {\n      expandIcon = /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('loading-icon')\n      }, /*#__PURE__*/React.createElement(Spinner, {\n        spin: true\n      }));\n    }\n\n    if (nodeData !== undefined && typeof onRenderTreeIcon === 'function') {\n      var customIcon = onRenderTreeIcon(nodeData);\n      expandIcon = customIcon !== null ? /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('custom-icon')\n      }, customIcon) : expandIcon;\n    }\n\n    return hasChildren ? /*#__PURE__*/React.createElement(\"div\", {\n      role: \"button\",\n      tabIndex: -1,\n      \"data-ref\": nodeData.refKey,\n      className: prefix('expand-icon-wrapper'),\n      onClick: handleExpand\n    }, expandIcon) : null;\n  };\n\n  var renderLabel = function renderLabel() {\n    var contentClasses = prefix('label-content', {\n      dragging: dragging,\n      'drag-over': dragOver,\n      'drag-over-top': dragOverTop,\n      'drag-over-bottom': dragOverBottom\n    });\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: prefix('label'),\n      title: getTitle(),\n      \"data-layer\": layer,\n      \"data-key\": (nodeData === null || nodeData === void 0 ? void 0 : nodeData.refKey) || '',\n      role: \"button\",\n      tabIndex: -1,\n      onClick: handleSelect\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: contentClasses\n    }, onRenderTreeNode ? onRenderTreeNode(nodeData) : label));\n  };\n\n  var classes = merge(className, withClassPrefix({\n    disabled: disabled,\n    active: active,\n    'text-muted': disabled,\n    focus: focus\n  })); // layer start from 1\n\n  var padding = (layer - 1) * TREE_NODE_PADDING + TREE_NODE_ROOT_PADDING;\n\n  var styles = _extends({}, style, (_extends2 = {}, _extends2[rtl ? 'paddingRight' : 'paddingLeft'] = padding, _extends2));\n\n  return visible ? /*#__PURE__*/React.createElement(Component, _extends({\n    role: \"treeitem\"\n  }, rest, {\n    \"aria-expanded\": expand,\n    \"aria-label\": label,\n    \"aria-level\": layer,\n    \"aria-disabled\": disabled,\n    \"aria-selected\": active,\n    style: styles,\n    className: classes,\n    ref: ref,\n    draggable: draggable,\n    onDragStart: handleDragStart,\n    onDragEnter: handleDragEnter,\n    onDragOver: handleDragOver,\n    onDragLeave: handleDragLeave,\n    onDragEnd: handleDragEnd,\n    onDrop: handleDrop\n  }), renderIcon(), renderLabel()) : null;\n});\nTreeNode.displayName = 'TreePickerNode';\nTreeNode.defaultProps = {\n  visible: true,\n  classPrefix: 'tree-node'\n};\nTreeNode.propTypes = {\n  as: PropTypes.elementType,\n  rtl: PropTypes.bool,\n  focus: PropTypes.bool,\n  layer: PropTypes.number,\n  value: PropTypes.any,\n  label: PropTypes.any,\n  expand: PropTypes.bool,\n  active: PropTypes.bool,\n  loading: PropTypes.bool,\n  visible: PropTypes.bool,\n  nodeData: PropTypes.any,\n  disabled: PropTypes.bool,\n  draggable: PropTypes.bool,\n  dragging: PropTypes.bool,\n  dragOver: PropTypes.bool,\n  dragOverTop: PropTypes.bool,\n  dragOverBottom: PropTypes.bool,\n  hasChildren: PropTypes.bool,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  style: PropTypes.object,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  onRenderTreeIcon: PropTypes.func,\n  onRenderTreeNode: PropTypes.func,\n  onDragStart: PropTypes.func,\n  onDragEnter: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onDragLeave: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDrop: PropTypes.func\n};\nexport default TreeNode;"]},"metadata":{},"sourceType":"module"}